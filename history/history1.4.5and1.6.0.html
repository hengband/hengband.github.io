<!DOCTYPE html>

<html lang="jp">

<!--head-->
	<head>
		<meta charset="utf-8"/>
		<link rev=made href="mailto:hengband-dev@lists.sourceforge.jp">
		<link rel="stylesheet" type="text/css" href="/hengband.css">
		<link rel="shortcut icon" href="/image/hangband.ico">
		<link rel="apple-touch-icon" sizes="180x180" href="/image/hengband_icon180.png">
		<link rel="icon" type="image/png" href="/image/hengband_icon256.png">
		<title>変愚蛮怒 公式WEB</title>
	</head>

	<body>

<!--header-->
		<header>

			<section id="title">
				<img class="tama1" src="/image/tama.gif" alt="tama">
				<img class="tama2" src="/image/tama.gif" alt="tama">
				<img class="tama3" src="/image/tama.gif" alt="tama">
				<img class="tama4" src="/image/tama.gif" alt="tama">
				<img id="hengTitle" src="/image/hengband_title2021.png" alt="変愚蛮怒 Hengband">
				<img class="tama4" src="/image/tama.gif" alt="tama">
				<img class="tama3" src="/image/tama.gif" alt="tama">
				<img class="tama2" src="/image/tama.gif" alt="tama">
				<img class="tama1" src="/image/tama.gif" alt="tama">
			</section>

			<section id="mainMenu">
				<a href="/index.html">トップ</a>
				<a href="/download.html">ダウンロード</a>
				<a href="/score.html">スコア</a>
				<a href="/development.html">開発</a>
				<a href="/lists.html">コミュニティ</a>
				<a href="/history.html">バージョン履歴</a>
				<a href="/link.html">関連リンク</a>
				<a href="/jlicense.html">著作権表記</a>
				<span>English (Coming Soon?)</span>
			</section>

		</header>


		<div id="main">
<!--main contents-->
<div class="sect1">
<h2 id="_20040109_ver_1_4_5_安定版ver_1_6_0_安定版">2004/01/09 Ver.1.4.5 (安定版)/Ver.1.6.0 (安定版)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_リリースノート">リリースノート</h3>
<div class="paragraph">
<p>Ver.1.4.5及びVer1.6.0は2004/01/09に公開されました。</p>
</div>
<div class="paragraph">
<p>1.4.5は1.4.xブランチの最終版で保存フロアの仕様を持たない最後のバージョンとなる予定でしたが実際は1.4.7に延長されたようです。</p>
</div>
<div class="paragraph">
<p>1.6.0は1.5.4のバグフィックス版。新しい安定版ブランチの最初のバージョンです。</p>
</div>
<div class="sect3">
<h4 id="_1_4_5更新内容">1.4.5更新内容</h4>
<div class="ulist">
<ul>
<li>
<p>装備品の*鑑定*時に重要でない説明文をいちいち表示しない。</p>
</li>
<li>
<p>Windowsでsound.cfgの設定を有効に(KoKaさんのパッチ)</p>
</li>
<li>
<p>バグ修正：</p>
<div class="ulist">
<ul>
<li>
<p>モンスター闘技場でランダムテレポートして脱出不可能になるバグ。</p>
</li>
<li>
<p>ロード時の漢字コード変換ミス。</p>
</li>
<li>
<p>剣術家のブーメランが闘技場で使用不能のバグ。</p>
</li>
<li>
<p>モンスターボールが劣化して中身が変わるバグ。</p>
</li>
<li>
<p>魔法の笛が重なって充填量がリセットされるバグ。</p>
</li>
<li>
<p>鑑定済みのアーティファクトに{特別製}の擬似銘を付く不具合。</p>
</li>
<li>
<p>呪われた武器が利き手から逆手に移動するバグ。</p>
</li>
<li>
<p>ペット召喚が失敗するバグ。</p>
</li>
<li>
<p>森の中で暁の戦士が復活不能のバグ。</p>
</li>
<li>
<p>関係無いモンスター死亡で時止めキャンセルのバグ。</p>
</li>
<li>
<p>銀のエンゼルの数え間違い。</p>
</li>
<li>
<p>『迷宮のミノタウロス』が主召喚で出なかったバグ</p>
</li>
<li>
<p>地形との関係でペットのブレスの巻き添えになるバグ。</p>
</li>
<li>
<p>ブレスが壁を抜ける事があるバグ。</p>
</li>
<li>
<p>文字が'+','%','{'のモンスターをモンスターの知識メニューに追加。</p>
</li>
<li>
<p>種族変更履歴の記録不備。</p>
</li>
<li>
<p>長すぎる称号を短く変更。他も少し修正。</p>
</li>
<li>
<p>改名："A Set of Gloves of Dragon" &#8594; "A Set of Dragon Gloves"</p>
</li>
<li>
<p>その他、各種文字化け、typo、表示アップデート不備、へルプ修正。</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_1_6_0更新内容">1.6.0更新内容</h4>
<div class="ulist">
<ul>
<li>
<p>ガンダルフの杖, 帯魔力ペンダントの発動の仕様変更。</p>
</li>
<li>
<p>盗賊ギルドの「分け前」廃止。</p>
</li>
<li>
<p>日替わり賞金首は同名のモンスターを区別しない。</p>
</li>
<li>
<p>ダンジョンのフロア間を移動する際に鏡は爆発なしで消えるように修正。</p>
</li>
<li>
<p>X11で, マウスでの漢字のコピー &amp; ペーストが使えるように修正。</p>
</li>
<li>
<p>バグ修正</p>
<div class="ulist">
<ul>
<li>
<p>./configure --with-setgid=games でコンパイル時にセーブ不可能のバグ。</p>
</li>
<li>
<p>{@ud}等のアルファベット銘の不具合。</p>
</li>
<li>
<p>セーブ実行時にsanity blastを受けるバグ。</p>
</li>
<li>
<p>lite_townでの古い城の報酬が古かったバグ。</p>
</li>
<li>
<p>ラッキーマンで突然変異治療をするとフリーズするバグ。</p>
</li>
<li>
<p>ユニークがアイテムを拾ったまま保存階で消えるとまれにクラッシュ。</p>
</li>
<li>
<p>モンスター同士の投げ落としで、プレイヤーがダメージを受けるバグ。</p>
</li>
<li>
<p>その他、各種文字化け、typo、表示アップデート不備、へルプ修正。</p>
</li>
</ul>
</div>
</li>
<li>
<p>その他、1.4.5 の全ての変更点。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_リポジトリ詳細">リポジトリ詳細</h3>
<div class="paragraph">
<p>一部文字化けは実リポジトリからの仕様です。ご了承ください。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Thu Jan 8 14:05:53 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bc4ae86e67c821b88119c555b4db6ba710f9359d">1.4.5/1.6.0の変更内容のリストを追加。</a></p>
</li>
<li>
<p>Thu Jan 8 05:17:29 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ea1146cbb7a96df77b11fb7f0df1be8e151503ac">alloc_stairs()で階段を配置した場所からCAVE_FLOORを落とし忘れており, 配置された下り階段が再び配置場所候補に選ばれ, 次の下り階段や昇り階段 で上書きされて下り階段が減ったりフロアから消えてしまうバグを修正.</a></p>
</li>
<li>
<p>Wed Jan 7 15:27:33 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1aab8bbc099239f2f521797ac4aa6f73b1b91907">位置交換テレポートでのmove_player_effect()でも他のテレポート同様に MPE_FORGET_FLOW対象にした. また, 薄い壁の向こうにテレポートしてもGLOW な薄い壁が正しく再描画されるように, テレポート全般に与えられている MPE_FORGET_FLOW指定時はPU_UN_VIEWとPR_MAPも実行するように変更.</a></p>
</li>
<li>
<p>Wed Jan 7 14:45:32 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6015d1165e7eb0f837432c991398e608f95b19b2">カメレオンが変身して光源の種類や半径が変化してもすぐに更新されなかっ たバグを修正.</a></p>
</li>
<li>
<p>Wed Jan 7 09:23:42 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d259dca7f2f5d5f2ed54bc53a86ae7915fad3aec">アイテムの外見(flavor)の処理方法を変更。flavor.c内に直にデータを書くのでは無く k_info.txtの中で薬や巻物等のアイテム一つ一つが外見情報を持つようにして、 キャラクター生成時にシャッフルするようにした。 visual modeで全ての外見に対応する文字(タイル)を独立に設定できるようになった。</a></p>
</li>
<li>
<p>Wed Jan 7 09:20:44 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0eb70fcacbaab17b39952f87e2a46af2ee775f28">英語版で, 自分で光っているモンスターは "%^s is shining." と思い出に表 記するように変更.</a></p>
</li>
<li>
<p>Wed Jan 7 08:25:52 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/15322c396497d4ccf9016b2cabc833e6067ed367" class="bare">https://osdn.net/projects/hengband/scm/git/hengband/commits/15322c396497d4ccf9016b2cabc833e6067ed367</a></p>
</li>
<li>
<p>Wed Jan 7 08:08:26 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/44be41f563d325f88fc7f1fb127de095202bb7e1">暗闇の洞窟で鏡が消えた時, 鏡があった位置が明るいままだったバグを修正. また, cave_set_feat()でのcharacter_dungeonの判定は1箇所だけにした.</a></p>
</li>
<li>
<p>Tue Jan 6 12:18:27 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2e589b28fc98559e1baec607c1396535218e0528">先程の変更でテレポート先の候補が全く無い場合の処理をしていなかったので、 その場合は何も起きないようにした。 以前のアルゴリズムではテレポート先を探しながら距離disも増やしていたので、 壁の中に完全埋まった状態や巨大vaultの中でショートテレポートを使うと どんなに遠くても外の床に脱出していたが、現状ではそれが出来なくなっている。 仕様として残す必要があるなら後でdisを増やすコードを書くが…。</a></p>
</li>
<li>
<p>Tue Jan 6 11:28:17 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0e91141a013863d476c2bf562e002d667bf55265">teleport_player()のアルゴリズムを変更。 今までのアルゴリズムだと遠くの同じ2地点間で行ったり来たりする事があったが、 可能なテレポート先の候補をある程度の数だけ先に選んでおいて、 乱数1回でランダムな1地点を選択する事で、ランダム性を増した。</a></p>
</li>
<li>
<p>Tue Jan 6 10:57:44 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c0843d96441493b7e7749d4dd42e5fb4cd121af8">地上で昼間の場合はGLOW地形であっても暗闇で暗くなるように変更.</a></p>
</li>
<li>
<p>Tue Jan 6 10:19:21 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/339bbebe49fb59b4b08954fa323d0ed0557859c4">ｾｮ､ｵ､､･ﾀ･ｸ･逾ｬｽﾐ､ｿ､ﾈ､ｭ､ﾎcheat_room､ﾇ､ﾎﾉｽｼｨ､ﾇ｡｢X､ﾈY､ｬｵﾕ､ﾀ､ﾃ､ｿ､ﾎ､､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Tue Jan 6 06:24:50 2004 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e0be8978dad9237db1075e55cbb757c5c356a94b">アイテムのスポイラー出力に関する変更. * 分類されないアイテムは "くさび" と表示せず "その他" と表示するよう   に変更. * 光源は独立カテゴリとした. * 羊皮紙を独立カテゴリではなく "その他" に移転. * グループ出力順序を一部変更. * 2byteの括弧は1byteに直した. * グループに表示可能なアイテムがない場合はグループ名を表示しないよう   に修正.</a></p>
</li>
<li>
<p>Mon Jan 5 13:26:01 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6f5b279c0e4d6b5316a437af3f4c69bca28c48eb">quark_add()に0等を与えた時の仕様を不用意に変えてしまっていて、 自動拾いエディタでアイテム名挿入等でおかしくなっていたので戻した。</a></p>
</li>
<li>
<p>Mon Jan 5 11:18:13 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/126c7be5d4d843f23b60aa1d7da345d1005d83d7">外周の永久岩が最初だけEXTRAフラグを持つ為に、 階段がフロアの4隅に置かれる事があった不具合修正。</a></p>
</li>
<li>
<p>Mon Jan 5 11:17:01 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bbb0696b3562018cd15a9ac8cb4e7fc7881473cc">英語版の説明文が途中で切れていたので修正。1.4.x/1.6.xへのマージ候補。</a></p>
</li>
<li>
<p>Sun Jan 4 12:55:34 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c806c62e01f485b9d5a9a5a08a51b36921ff50c4">ダンジョンの雰囲気が、フロアの生成時では無くリアルタイムに計算されるように変更した。 知覚の技能値が高いと雰囲気が表示されるまでの時間が短かくなる。 ピットやvaultで雰囲気が上がる仕様は再現できないので、 かわりに多数隣接したモンスターはレベルに関わらず少しだけ雰囲気に寄与するようにした。 また雰囲気の加算の仕方を変更。2次式で寄与を決定するようにしたので、 5レベルOODのモンスターが2体よりも、10レベルOODのモンスター1体の方が良い雰囲気になる。</a></p>
</li>
<li>
<p>Sun Jan 4 08:17:48 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6cbfd5c63fd3f1293ca0ee95bcee65af74b96155">ｶ篁ﾛ､ﾇ､ﾏ ironman_rooms ､ﾏﾌｵｸ妤ﾋ､ｷ､ｿ｡｣</a></p>
</li>
<li>
<p>Sun Jan 4 08:14:31 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0ffc45e7eb3b94b0519b7fd8f0371f83513569a2">小さいフロアで部屋配置に失敗するのを根本的に修正。 rooms.c 1.71-1.72 と generate.c 1.87-1.90 は不要になったので元に戻す。</a></p>
</li>
<li>
<p>Sun Jan 4 06:05:48 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f6ce1542f67ffd461d95c9c17187c71f127a0e52">ｾ｢ﾎﾎｰ隍ﾎｼｸ､ﾎｽ酳ﾖ､ｬｶｸ､ﾃ､ﾆ､､､ｿ･ｨ･ﾐ･ｰｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Sun Jan 4 05:46:49 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b199c52c6467f12443b6a55837cf5f057ebb8a0e">･ﾞ･ｯ･﨓ｾﾊﾑｹｹ｡｣ENCHANT｢ｪCRAFT</a></p>
</li>
<li>
<p>Sun Jan 4 05:37:36 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/479c9e4525e964b885119aa38f1e0213fc151772">ｼｸ､ﾎﾄﾌ､ｷﾈﾖｹ貘ｩ､荀皃ｿｻﾋｽｾ､､｡｢spell_id_from()､簓ﾑｻﾟ｡｣ do_spell()､ﾏﾎﾎｰ靈隍ﾋﾊｬｳ荀ｷ､ｿ｡｣</a></p>
</li>
<li>
<p>Sat Jan 3 09:25:36 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1b1c85873b72d068d387a8aa2f36f58ca01f66de">英語版、未使用変数除去。</a></p>
</li>
<li>
<p>Sat Jan 3 08:52:36 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c47f507fd879623266f96c1affee8ee9b4103583">吟遊詩人の歌の消費MPがおかしかったエンバグ修正。 do_spell()の呪文の指定方法を1つの通し番号 spell にしていたが、 やっぱり不都合があるので、(realm, spell) の2つに戻した。 do_singing()はdo_spell()から分割していた意味がなかったので統合。</a></p>
</li>
<li>
<p>Fri Jan 2 16:44:56 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/45ed63fc2c3fd0b1f709de26244aa361b3b2c8ea">プレイヤーの初期装備に自動刻みを適用しておく。</a></p>
</li>
<li>
<p>Fri Jan 2 15:18:33 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4279804cfbcc1e4725726d4d82e95061fee79c86">「ウィザードロード」、「ギルドマスター」等、画面からはみだしてる称号を短く変更。 他にも意味的におかしい称号を一部修正。</a></p>
</li>
<li>
<p>Fri Jan 2 14:29:27 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bf85202174a331b14a00cb92a12cbf76eca32f5b">英語版の get_table_name() が flavor.c内の巻物用の配列データに依存していて、 artifact.cの方に移動してしまったらコンパイルできなくなっていたので修正。</a></p>
</li>
<li>
<p>Fri Jan 2 14:03:55 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e3d2f41734cfa4dc4d733b0c331d33225dee66c5">一番大事なファイル do-spell.c をaddし忘れていたので追加。 魔法の処理全般がこのファイルに全部入っている。 ただし、mind.c で処理していた分はまだ do-spell.c に統一していない。</a></p>
</li>
<li>
<p>Fri Jan 2 13:57:27 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2176513979906ac904140156f8854442e4b9374b">魔法の効果、名前、説明文等を一つの関数にまとめた。 SAngbandで用いられていた方法の応用。 一つの呪文の名前、説明、効果のコードが一箇所にまとまっているので、 変更、管理がしやすい。以下の変更を含む。</a></p>
</li>
<li>
<p>Thu Jan 1 17:15:14 2004 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8fa16dedf6f0c389ad1b022239f5bfd1d6624471">quark_str(1)として""を最初に定義しておき、 quark_add()は失敗したら必ず1を返すようにした。</a></p>
</li>
<li>
<p>Sun Dec 28 17:00:56 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ef46f2ac8f4dcc6b2eaba5959960335ed60a33c9">*破壊*や地震で地形が暗くなった際に, 光源持ちのモンスターが消えた場合 に跡地周辺がMARKされるバグを修正. なお, 以下の変更を含む. * forget_view()で, panel_contains()を調べる必要はないので修正.</a></p>
</li>
<li>
<p>Sun Dec 28 09:17:07 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/99c1fb00e74fdd2b3d6d8e81ef57bb9524e7d0b3">プレイヤーが乗馬したまま死んだ場合にcheat_deathやウィザードモードで復 活すると, 乗馬が維持されず街の人や変な物に乗馬して復活するバグを修正.</a></p>
</li>
<li>
<p>Sun Dec 28 08:20:42 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/90f0b15a647dc62970795c854c000c0109816ae6">モンスター同士の投げ落としで, 投げ落とされたモンスターが乗馬の場合に 限りプレイヤーもダメージを受ける部分がバグっていて, プレイヤーが乗馬 していたら無関係でも必ずダメージを受けていたバグを修正.</a></p>
</li>
<li>
<p>Sun Dec 28 07:41:17 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bf8778565996dabd86f53804309c61535eba3ffa">賞金首と引き換えにアイテムを受け取った際に, スロット記号表示, 自動銘 刻み, アイテム並び替えのhandle_stuff()を行うように変更.</a></p>
</li>
<li>
<p>Sat Dec 27 18:13:42 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/67f93c62bc7f5325cc7db67e24884c27b7c8b928">｡ﾘｷｵ､ﾎｳｻ｡ﾙ､ﾈ｡ﾘﾀﾄﾎｶ､ﾎﾎ錂ｩ｡ﾙ､ﾎ･ﾙ｡ｼ･ｹAC､ｬ30､ﾎ､ﾞ､ﾞ､ﾀ､ﾃ､ｿ･ﾐ･ｰ､､ﾀｵ.</a></p>
</li>
<li>
<p>Sat Dec 27 11:54:10 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5e65d427c076142928c0d9f2dffece6e2181d646">ダンジョン生成時の階段配置の仕様を変更. * 階段生成の成功/失敗に関わらず</a></p>
</li>
<li>
<p>Fri Dec 26 19:57:34 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7d3126a1a2a09cdc6b2b0f0b16cd31e9107baeb5">実行されないコードの削除.</a></p>
</li>
<li>
<p>Fri Dec 26 19:54:24 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/531b41de02793c9c455ce57b000c1df210ad7f0f">alloc_stairs()の変更によりダンジョン生成が失敗しそうにないダンジョン で失敗判定が多くなりすぎたので</a></p>
</li>
<li>
<p>Fri Dec 26 19:00:35 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5bb6933c6823530ff9544a0528534ed31d46a4d6">ironman_rooms適用時には最初の部屋を必ず通常の部屋にすることにより</a></p>
</li>
<li>
<p>Fri Dec 26 15:56:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/166592cb16f0b6e9301f6dae9b836c9f5fa528bb">プレイヤーが盲目である等の理由で未知のアイテムの上にいる場合に, その 未知のアイテムをget_item()の選択肢に加えていて, アイテムがあることが わかっていたバグを修正.</a></p>
</li>
<li>
<p>Fri Dec 26 15:17:10 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6599307eda98e10beaae211323166bad3a4664ab">o_ptr&#8594;markedが単に非0かどうか判定されている部分を, save.cの物以外全 てOM_FOUNDとのAND演算に置き換えた. また, autopick.cのOM_AUTODESTROYと のAND演算も念のため括弧で括った.</a></p>
</li>
<li>
<p>Fri Dec 26 14:44:24 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4747dbb9847e5b336a221b56d8c298e0c6e8bb2f">練気術師が魔法書を持たなかったり盲目で魔法書を使えない場合は&#8217;w&#8217;かESC だけを受け付けるプロンプトを通すように変更. これにより, マクロやキー 入力スタックを壊すことがなくなる. 関連して, 以下の修正を含む. * easy_floor有効時に床上アイテムを選択する画面にすると, "'w&#8217;練気術"   が表示されなくなるバグを修正. また, easy_floor有効時と無効時両方で,   プロンプト中の "'w&#8217;練気術" の位置は "ESC" の直前になるように統一.</a></p>
</li>
<li>
<p>Wed Dec 24 15:39:20 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5bfd2528f403949481bacb8acf492db10fc6b3fe">ignore_unviewの対象として, モンスター同士が戦って発生する "何かが聞こ えた" メッセージ, 友好的なモンスターが敵に回るメッセージを追加.</a></p>
</li>
<li>
<p>Wed Dec 24 09:55:10 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e9f4e3ca181f6aef874927b2cf7f83c6481edf24">壁の裏から照らされないようにする判定に, VanillaやUnAngbandで実装され ているがコメントアウトされているCOMPLEXアルゴリズムを適用. 問題が起き るようであれば#define COMPLEX_WALL_ILLUMINATIONをコメントアウトすれば 元の処理に戻る.</a></p>
</li>
<li>
<p>Wed Dec 24 08:22:34 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cd7b102243ed2f59759375d464952356936809e4">各種抹殺による個別モンスターの抵抗判定を関数としてまとめた. 考え方は XAngbandから. 関連して, 以下の修正と変更を含む. * テレパシー等で見えていても盲目ならば抵抗メッセージを出さない仕様を   削除. * 抹殺で消えたモンスターがいない場合は徳が変動しないように変更. * 英語版で "アンデッド消滅" が "Mass Genocide" になっていたバグ修正. * 抹殺系関数のplayer_castはbool型に変更.</a></p>
</li>
<li>
<p>Wed Dec 24 06:18:49 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4f15eda957d6c2798f2d2165775fda3959195c0b">重量オーバーで深い水に溺れている忍者でも速駆けが維持されるのはおかし い等の理由により, 深い流れの地形では浮遊がない限り速駆けが切れるよう に変更.</a></p>
</li>
<li>
<p>Wed Dec 24 06:04:40 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c4b7c7e30afb770ce2e7a798db3185fea9622ea6">adj_str_wgt[]を直接参照する限界重量の計算を, xtra1.cにある関数 weight_limit()でまとめた. 全ての場合で2で割られて扱われていたことも併 せて整理したため, 元々呼ばれていたcalc_bonuses()では扱い方を少し変更.</a></p>
</li>
<li>
<p>Tue Dec 23 21:08:16 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f17eb53044f55133f4def1ae9ce28cb42f2d280f">ヘルスバー更新に関する修正. * 乗馬を状態異常から立ち直らせる処理で乗馬のヘルスバーを更新する際に,   通常のヘルスバーの更新の指示は必要ないので削除. * モンスターが目を覚ました際にヘルスバー更新が足りない部分の修正. * 忍術 "鎖鎌" 使用後は対象モンスターのHPを追跡するように修正.</a></p>
</li>
<li>
<p>Tue Dec 23 15:51:50 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4732901d8e599e8172e5a6e68288beb61ca5f854">視界外メッセージOFFでも視界外のモンスターの呪文失敗メッセージが出てい たバグを修正.</a></p>
</li>
<li>
<p>Tue Dec 23 15:29:35 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e020c59a33f5b4b18b7f4cd5094b02a0d70ae92f">更新指示に関する変更. * cave_set_feat()内でLOSフラグの変化を判定し, 必要に応じて視界/光源/   モンスターの更新指示を発行する仕様に変更. 関連して, cave_set_feat()   で発行されたものと重複する更新指示を削除. 考え方はUnAngbandから. * 地震や落馬でのPU_DISTANCEはmove_player_effect()が呼ばれた場合のみに   使えばいいので, PU_MONSTERSに置き換えた. * ペットを解放する際はdelete_monster_idx()でPU_MON_LITEが呼ばれてお   り,do_cmd_pet_dismiss()の最後のPU_MON_LITEは不要なので削除.</a></p>
</li>
<li>
<p>Tue Dec 23 08:04:27 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1fc2ed518013ee59ba4ee581521131c8a5a1da6c">☆名の変更時にget_table_name()にエンバグしていたので修正。</a></p>
</li>
<li>
<p>Tue Dec 23 06:26:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c84f718edeb7eb0a9a1f31b849f305064a948b34">1行全体を選択した状態でCOPYコマンドを実行した時にカーソルが下の行の先頭に移動するように。</a></p>
</li>
<li>
<p>Mon Dec 22 22:43:15 2003 0000: (mogami) link:https://osdn.net/projects/hengband/scm/git/hengband/commits/354a1d25eccf676cab8ec1a57c53d6ede56cece7[自動拾いエディタの振舞い調整： - 最終行へ移動する操作をした時、最後の行に改行が無かったら、   自動的に改行を入れて新しい空白行を作る。 - コピーコマンドを実行した時、カーソルの位置が選択範囲の最後に移動する。   こうすると、"^C""^V" で選択範囲を複製できる。   (今までは古い行の中間に挿入してしまっていた。) - カーソルの上下移動で漢字1文字の中間の位置にカーソルが来る時、   今までは常に左に1byteずらして正しい位置に動いていたが、   数行上に移動すると何時の間にかカーソルが左へ左へと移動してしまうので、   正しい位置に動かす時に左右交互にずらすようにした。]</p>
</li>
<li>
<p>Mon Dec 22 21:39:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/25b4c05caa4200db20911d196e17bf543d90fbf7">自動拾いエディタの「キーマップ定義の挿入」で、 現在の定義内容を正しく挿入していなかった (エスケープ文字に変換が必要な所をしていなかった)のを修正。</a></p>
</li>
<li>
<p>Mon Dec 22 18:34:40 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ab32e8b861dcd488987b99e133b73cc1970ea55e">target_set_aux()ではウィザードモードで地形IDや座標を表示しているが, この座標が (x,y) 表記だったので, (y,x) 表記に変更. また, mimicのある 地形の場合は (地形ID/mimicID) の形式で表示できるように変更.</a></p>
</li>
<li>
<p>Mon Dec 22 18:25:07 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/fae855898cbbf9395503bb182104744a25f9479b">デバッグコマンドの地形指定で, 地形を作成した場所の更新を忘れていたの で修正. また, 鏡を作った際にその場所が明るくならなかったので修正.</a></p>
</li>
<li>
<p>Mon Dec 22 18:05:23 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/076a335bc5bf528e1ec31a71faafcb72cce6fc72">*破壊*や地震に関する修正. * 鏡の上で*破壊*や地震を使った場合に明かりが消えるバグを修正. * *破壊*や地震を使った場合は地形光源を適用し直すように修正.</a></p>
</li>
<li>
<p>Mon Dec 22 15:50:48 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/61299caf11051eeb50a80a91e3981bcb855d8556">STUPIDモンスターはMPの切れているプレイヤーに対しても無意味な魔力吸収 を使うことがあるように変更.</a></p>
</li>
<li>
<p>Mon Dec 22 14:55:56 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b81c53b630c474165eadad6fcf913b7bf17287f9">閉じることのできる地形の上にアイテムがあって, 閉じた後の地形にDROPが ありアイテムが置ける場合は閉じることができるように変更.</a></p>
</li>
<li>
<p>Mon Dec 22 14:50:21 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8c3592b7c0edcf75d7f96228e65b92cccf9e854b">地形デバッグコマンドでのupdate指定忘れの修正.</a></p>
</li>
<li>
<p>Mon Dec 22 14:40:24 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/db793d10013628c33da8057ae6551b9ef4cd6c53">指定位置に任意の地形とmimicを作成できるデバッグコマンド^A Fを追加.</a></p>
</li>
<li>
<p>Mon Dec 22 13:41:30 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/225230eb3c1550902a7a7d3159ce979dd12ea4f5">テスト地形データとしてガラスの壁, ガラスのドアセット, カーテンを導入. 不要であればリリース前に削除可能. なお, 以下の変更を含む. * N:98:MOUNTAIN_WALLを区別のため "山脈(壁)" とした.</a></p>
</li>
<li>
<p>Mon Dec 22 12:16:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1cced0737cd5d20247c12d69abcef119a9bec5c6">アリーナ内のゲートに用いる新しい地形 "入場門" を追加. 関連して, 以下 の修正と変更を含む. * f_tag_to_index()のプロトタイプ宣言をinit.hからexterns.hに移転. * アリーナ内でGLOW地形でも暗くなるhackを削除. * アリーナ内ではBLDG地形でも "&#8230;&#8203;の入口" と表記しないように変更. * 忍者がアリーナから出てメニューに移る際に超隠密が切れたメッセージと   ともに街の画面に切り替わってしまうバグがあったので, leave_floor()で   も超隠密解除処理を行うように修正.</a></p>
</li>
<li>
<p>Mon Dec 22 11:33:19 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6ed8016b99dbae9cf2de24435c151899720ed5c6">o_ptrの値が未定義の可能性、というwarning除け。</a></p>
</li>
<li>
<p>Mon Dec 22 11:20:43 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7271493cf22cbbdc3e29ae1752c05de5d8b5bd44">アーティファクト生成の巻物で作った☆の名前を 「☆ロングソード《名前》」等のような形式に変更。 名前付けをキャンセルした時はとりあえず漢字2文字を付ける。 後でXAngbandからシンダリン銘を付けるコードを移植する。</a></p>
</li>
<li>
<p>Mon Dec 22 10:34:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/97fa22c9ca5188dce07a9bd8275806f76b7edff0">単純にセーブデータをロードしただけで超隠密が解除されていたバグを修正.</a></p>
</li>
<li>
<p>Mon Dec 22 10:26:31 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b9c377871830f5a8f35ec2e1d84f229b40291691">忍者の超隠密は解かれる時は一瞬で解かれ, 超隠密に入る時は手間がかかる という実装方針に従い, CAVE_GLOWが落ちる部分ですぐには超隠密に入らない ように変更. また, ダンジョン生成時は超隠密が解除されるように変更.</a></p>
</li>
<li>
<p>Mon Dec 22 10:15:29 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/70ff5524569988a872835a0f7393f9ca6a00ed7a">ドラゴンスケイルメイルの基本ACを[30, +10]から[40, +10]に変更。</a></p>
</li>
<li>
<p>Mon Dec 22 10:00:21 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/70a074055d86965d5929d20ddf9506652cdb2a60">CAVE_OBJECTに関する修正. * cave.c 1.145のエンバグにより, cave_set_feat()で正しくCAVE_OBJECTを   落とせていなかったバグを修正. * プレイヤーがOBJECT地形にいる時に*破壊*を使っても足元の地形は*破壊*   されないのにCAVE_OBJECTだけが飛んで, 無意味なmimicだけが残るバグを   修正. * 地震と*破壊*ではOBJECT地形であってもcave_set_feat()を通し, そこで   CAVE_OBJECTを落とすので, 地震と*破壊*からCAVE_OBJECT処理削除.</a></p>
</li>
<li>
<p>Mon Dec 22 09:29:40 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ea4b8c13d94fb7b3e874a647ed91af1620196f8a">忍者の超隠密に関する変更と修正. * 閃光/暗黒属性を受けた直後に超隠密が処理されないバグを修正. * 部屋を暗くする処理で超隠密が処理されないバグを修正. * 啓蒙, GLOW地形への変化, 日の出と日没などでプレイヤーのいる地形の   CAVE_GLOWが変化する時に超隠密判定が足りなかった部分の追加. * ダンジョンを生成した直後に超隠密判定を行うように修正. * モンスター対モンスターで暗闇を使う際に, 忍者に味方する者 (ペット,   友好的) 相手だった場合は対プレイヤーと同様に閃光を使うように変更. * 光に弱い者, アンデッド, 暗黒光源持ちは忍者に対しては閃光も暗闇も用   いないが, STUPIDの場合に限り忍者及びその味方に対し暗闇を使うように   変更. * 暗闇の洞窟では暗闇も閃光も効果はないので, STUPIDでないモンスターは   使用しないように変更. * テレポート時にはmove_player_effect()で超隠密判定を取るようになって   いるので, mind.cのテレポート系忍術の直後にあった超隠密判定を削除.</a></p>
</li>
<li>
<p>Sun Dec 21 17:58:39 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/12b29337784c8cf3405829988cf73db7b270c3f6">アリーナに限りGLOW地形とその周辺でも暗黒属性で暗くなるように変更. こ れにより, アリーナでの忍者の最初の行動が暗闇生成の場合に不利にならな いようにした.</a></p>
</li>
<li>
<p>Sun Dec 21 15:41:18 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3c7dc187f99e54b1841089b571db64ff0c403996">射撃と投擲に関する変更. * 厚さ1の壁の中にいるモンスターに向けて射撃/投擲されたアイテムが壁の   向こう側に落ちないように変更. * 壁の中のモンスターにアイテムを投げた場合に壁の直前で止まらずに命中   判定を行うように変更. ただし薬と人形は従来通り壁の直前で砕ける.</a></p>
</li>
<li>
<p>Sun Dec 21 10:50:32 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6d535129e0feb6f6271f99864e99fd4bd4510098">cave_set_feat()で新しい地形が非REMEMBERならば一旦MARKを外すコードがあ り, その次にプレイヤーから見えない地形でもMARKを外すコードがあったが, 視界外でモンスターが開けたドアであってもMARKが外れて, ドアごと消滅し たように見えてしまっていたため, このコードを削除. 開けられたドアが普 通に記憶に残るように修正.</a></p>
</li>
<li>
<p>Sun Dec 21 10:04:30 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3e4a9c61fb6e12d59f5012927c9c5ff8b0587af3">モンスター情報の記憶に関する修正と変更. * モンスターの外見が違う場合でも打撃や起きた回数などが記憶されていた   バグを修正. * モンスターがテレポートで消えた場合にテレポートが思い出に残らなかっ   たことがあるバグを修正. is_original_ap_and_seen()を使った時のエンバ   グだった.</a></p>
</li>
<li>
<p>Sun Dec 21 07:06:59 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/16844897978bdced4436100617b3780c82226740">project_m()の変更と修正. * ignore_unviewの変更の副作用で, 目の前でテレポートさせたモンスターに   ついて "何かはダメージを受けていない" と表示されるようなバグがあっ   たので修正. 内部フラグを事実確認用とメッセージ表示用に分けた. * 重力属性やテレキネシス属性でテレポートと朦朧が同時に指定されてもテ   レポートだけが処理され, 朦朧度が無視されるバグがあったので修正. * project_m()では恐怖以外の特殊効果についてメッセージは1つしか処理で   きないので, テレポート, 変身, 最大HPダメージ, 混乱, 朦朧の優先順位   で表示されるように変更. * 薬が割れたりしたような場合でプレイヤー以外がモンスターを回復させた   ような場合などでもプレイヤーの徳が変化していたバグを修正.</a></p>
</li>
<li>
<p>Sun Dec 21 06:30:25 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b104d12cab4854b95b32b3e4453e3ac65f937846">壁紙ファイルが無いときのメッセージ、英語版未訳。</a></p>
</li>
<li>
<p>Sat Dec 20 20:46:31 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2aec47a835e6d3e47ddde4b10e6e7a8eb9e44cef">teleport_player_to()の引数no_teleがFALSEになるテレポート, すなわち剣 術家/忍者の "入身" と&#8217;B&#8217;系モンスターの投げ落としはテレポートではなく 非魔法的移動と見ていいため, この2つに限りvault内への移動を認めた. こ れにより, 剣術家や忍者の "入身" でvault内のモンスターを攻撃した直後に vaultから追い出されてモンスターが見えなくなる場合 "何かを攻撃した" と され, 殺害数が増えない場合があるバグを修正.</a></p>
</li>
<li>
<p>Sat Dec 20 16:30:42 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d8340f487f0b17aa36fe2a49444c047057bec935">まだ両手に指輪が装備されていない状態であっても指輪を装備する手を選択 できるように変更. 実装にあたってTObandのオクトパスを参考にした.</a></p>
</li>
<li>
<p>Sat Dec 20 12:13:15 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4d27ce131d701b21d3cd89967a1662808dd7a488">反攻撃の洞窟だったり友好的なモンスターへの攻撃をキャンセルしたり恐怖 していて実際には殴れなかったりした場合でも [情], [誉] が下がっていた バグを修正.</a></p>
</li>
<li>
<p>Sat Dec 20 11:25:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4a35a1f44d9ece5f64add7b4a0a41c89c7a07166">装備持ち替えと素手判定, 乗馬移動制御の放棄に関する変更と修正. * 右手/左手の装備が呪われている場合でも持ち替えができる場合があったの   で, そのような場合で装備持ち替えが起きないように修正. また, 二刀流   中に非利き腕の武器が呪われた状態で非武器に持ち替える場合は非武器は   利き腕で装備できる.   - 素手で格闘する職業が利き腕にアイテムを持って非利き腕が素手の場合     であっても素手攻撃計算が使われなくなるのは仕様として残す. * 両手が非武器でふさがっている時に別の非武器を装備する場合は外す非武   器を選べるように変更. * 乗馬中の両手持ちを許可しない状況では. 乗馬の制御に用いる腕は "素手"   とみなさないように変更. また, empty_hands()の引数is_monkは意味がな   いので, 乗馬制御の腕を空きとみなすかどうかのフラグriding_controlに   置き換えた. * 両手に非武器装備, もしくは非武器を装備して片手は乗馬制御に使ってい   るように, プレイヤーの両手が武器以外でふさがっている場合はプレイ   ヤーは打撃攻撃できないように変更. * 両手が空いている修行僧/練気術師/狂戦士が乗馬移動制御OFFを使えなかっ   たバグを修正. また, 空いた腕があってかつ武器を持たない場合は, 空い   た腕を武器とみなして乗馬の移動制御を切れるように変更. * 両手持ち可能な武器判定を関数object_allow_two_hands_wielding()でまと   めた. * 両手が非武器でふさがっているような場合でも命中率にマーシャルアーツ   熟練度が適用されたり, 熟練度が上がるバグを修正. * mention_use()とdescribe_use()で "運搬中" テキストを出す条件が違って   いたので修正. また, 英語版でleft_handerに関わらず指輪スロットの表示   が変わらなかったバグを修正. * 英語版では右手と左手は殴れる場合のみ "Wielding" と表記し, それ以外   は素手の場合を含み "On arm" とした. * 関数buki_motteruka()内の記号定数比較をobject_is_melee_weapon()で置   き換えた. * 転倒の変異で, 利き腕でない方の腕にしか武器がない場合に武器を落とさ   ないバグを修正. * 利き腕に武器以外がある場合に武器呪縛がかかっていたバグを修正. 二刀   流の場合は確率1/2でどちらかの武器が呪縛されるように変更. * 剣術家の剣術は非利き腕のみに武器がある状態でも使えるように変更.</a></p>
</li>
<li>
<p>Wed Dec 17 02:21:58 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c564f8c19f2cdabfb19a91448c18449f6d5338eb">cave_player_teleportable_bold()でモンスターのいる位置を禁止する際に, 乗馬は除外するように変更. また, ウィザードモードでも乗馬以外のモンス ターの位置を完全に禁止し, 意図しない位置交換テレポートになる場合があ るバグを修正.</a></p>
</li>
<li>
<p>Wed Dec 17 01:28:20 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/558e51a6429fc8972830f83eda007233b00fb4b5">los(py, px, &#8230;&#8203;)をplayer_has_los_bold()で置き換えられる部分について置 き換えた.</a></p>
</li>
<li>
<p>Tue Dec 16 20:21:42 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e5f7c14d12d56551c63e443af67dac9cf469e587">m_ptr&#8594;mlとis_original_ap(m_ptr)の組み合わせだった部分をさらにマクロ is_original_ap_and_seen()として整理.</a></p>
</li>
<li>
<p>Tue Dec 16 19:41:47 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f26c9ae9c66298cb2b7e030be8b8c3b2c781916c">視界外でテレパシーなどで見えているだけのモンスターの行動メッセージを 表示しないオプション "ignore_unview" をXAngbandより移植. ただし, メッ セージは省略してもモンスターの行動は事実として記憶に残る. なお, 以下 の修正と変更を含む. * モンスター同士で殴り合う際に, 殴る側が見えていなくても殴られる側さ   え見えていればオーラが記憶されていたので, 殴る側が見えなければ記憶   されないように変更. * 盲目状態で乗馬が見えなくなっている時に乗馬の加速/減速が切れると正し   くプレイヤー速度が更新されないバグを修正. * モンスター対モンスターで乗馬が減速を受けた直後に正しくプレイヤー速   度が更新されなかったバグを修正. * モンスターの加速, 減速, 朦朧, 混乱ではヘルスバーを書き換える必要は   ないので, そのような場合にはPR_HEALTHやPR_UHEALTHは発行しないように   変更. * Typo fix: "ものでで攻撃された" &#8594; "もので攻撃された".</a></p>
</li>
<li>
<p>Tue Dec 16 09:23:06 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/96a34114fd0d752eda7126644092da6bfcd9c7a3">時たま1x1マスで１部屋だけの階ができることがあったので階の部屋数の下限を設定した。 (下限数)＝(階の縦の画面数)＋(階の横の画面数)  (例えば、1x1画面は2部屋、3x3画面は6部屋) この変更のため、金鉱では時折、階の再生成のメッセージが連続して出ることがあるが、仕方がないだろう。</a></p>
</li>
<li>
<p>Tue Dec 16 05:12:14 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8413ccb3df463baf7127336cb87a148d1094bced">アーティファクト生成時に文字列を入れずにEnterを押した場合はESCを押し てキャンセルした時同様にランダム銘になるように変更.</a></p>
</li>
<li>
<p>Sun Dec 14 16:51:25 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cb3158ebcf2c10d15aef08cc29b6e507dcd3cd98">1.174の警告除去で "倒したユニーク数が10体以下の時ランキングがダンプに 載らない" というバグを修正していたことに関連し, モンスター数のデータ 型をunsigned longからlongに直した.</a></p>
</li>
<li>
<p>Sun Dec 14 16:28:46 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/10426ab07e5e389bcb1fb42413e78728d82cfc49">モンスター光源に関する変更. * このような位置関係を考える.</a></p>
</li>
<li>
<p>Sun Dec 14 14:09:11 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1c8e6dc19974bf6f9b2d023f8ec753fbcbff0e76">地上の荒野ではモンスターが森の中に配置されるのを許可するように変更. また, alloc_monster()からMOUNTAINの比較を削除.</a></p>
</li>
<li>
<p>Sun Dec 14 13:55:45 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/12666a5e2f683c7ea4afa9d289cc0774af3f2150">コンパイル警告の除去.</a></p>
</li>
<li>
<p>Sun Dec 14 13:36:40 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/87e55abd92a72723b0a98ae49d397ed64e30d30d">cave_*()マクロではなく地形フラグ直接参照にした方がいい部分の変更. また, cave_*<em>bold()ではなくcave</em>*_grid()が使える部分の変更.</a></p>
</li>
<li>
<p>Sun Dec 14 13:16:42 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/833d9a4eafd1ea5626e6b721e99170b9ae1a637f">地形フラグ参照に関して, have_flag(f_flags_*(), フラグ)として使われて いた部分をcave_have_flag_*()としてまとめた. この過程でf_flags_*()は不 要になったため削除.</a></p>
</li>
<li>
<p>Sun Dec 14 12:27:23 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4edbcd3b18d914095f3645075f7e957febdb90af">'l&#8217;でモンスターなどの下の地形を "&#8230;&#8203;は&#8230;&#8203;の上に" と表示するかどうかの 判定にFEAT_INVISが使われていたので, REMEMBERの有無に置き換えた.</a></p>
</li>
<li>
<p>Sun Dec 14 06:06:17 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b74195160b7e5f9c2b24865c2cd8de27c54c008b">透明な壁が暗黒光源で削れて見えるのを防ぐため, REMEMBER地形が暗黒光源 で未知の地形のように表示される条件をLOS &amp;&amp; PROJECTと変更.</a></p>
</li>
<li>
<p>Sun Dec 14 04:50:11 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f60733f3211f0cb97afeacb7a47d3cd2b6834fe2">盗む打撃を持つモンスターのテレポート判定に関する変更と修正. * 殴られる側にオーラがある場合, 殴る側/殴られる側の両方がプレイヤーか   ら見えている場合のみテレポートしないようになっていたので, この仕様   を破棄. テレポートできる場合はオーラでテレポートを妨げない. * 殴る側がオーラで死んだ場合に, 死んでからも "笑って逃げた" メッセー   ジが出る可能性があったバグを修正. * モンスター対モンスターで盗みテレポートが発動する場合は直ちに攻撃を   止めるのではなく, 対プレイヤー同様に1ターンで使える打撃を全て使って   からテレポートするように変更.</a></p>
</li>
<li>
<p>Sun Dec 14 04:20:35 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d864394d30fb6712418783bc28e17195f139e6f0">モンスターのテレポートにも受動テレポートモードを与えた. 自分の意志に よるテレポートで自分が本来入れない地形に飛ぶようなことはなくなる. 関 連して, 以下の変更を含む. * cave_teleportable_bold()をcave_player_teleportable_bold()と改名. * 盗む能力を持つ乗馬は現在存在しないが, 乗馬が盗む打撃をすると乗馬だ   けがテレポートする可能性のあるバグを修正.</a></p>
</li>
<li>
<p>Sat Dec 13 15:34:31 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/47ae0d9cec33d772dc5d5185cc557d5df28a52ba">『迷宮のミノタウロス』がダンジョンの主召喚で出るようにレアリティを3に変更。</a></p>
</li>
<li>
<p>Sat Dec 13 15:33:52 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/de5feba5258bacda8b77dd927d0ca5840e8f2170">ゴルフィンブールのレアリティを255にしてクエスト専用にした。 代わりに、オークの隊長『マウフル』追加。</a></p>
</li>
<li>
<p>Sat Dec 13 15:24:46 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3d50a5a940a24da96e6552d325d9aa71b1345529">0x0fを超える色にlighting_colours[][]が使われた時に配列外アクセスを起 こしていたので, lighting_colours[][]に与える色は表示時同様に0x0fでマ スクして渡すように修正.</a></p>
</li>
<li>
<p>Sat Dec 13 12:08:12 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/719e7c1390b8efac9812f6384ad9e951b90f7bd4">改名：p_ptr&#8594;ffall→p_ptr&#8594;levitation、FEATHER→LEVITATION</a></p>
</li>
<li>
<p>Sat Dec 13 11:17:03 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a591b2da25330b6fca88375d3443e528f595613b">明度レベル "暗暗色" の廃止.</a></p>
</li>
<li>
<p>Sat Dec 13 11:12:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e6bc6e702c51be12fdbcbede3eeffae5d954041d">move_player_effect()の余分な引数 oy, ox を削除。</a></p>
</li>
<li>
<p>Sat Dec 13 08:48:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/48fbd96f247124e1c64ce4e2ac392ad0fb13ec68">ゲームプレイオプション3つ、 (view_perma_grids, view_torch_grids, view_unsafe_grids) をマップ画面オプションへ移動。</a></p>
</li>
<li>
<p>Sat Dec 13 06:43:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a1207734250dee213afc694b909c4f5cc2c934d6">CVSから開発版を落すユーザーが増えてきた事もあるので、 混乱の元にならないように 8x8.bmp を CVSに入れておく。</a></p>
</li>
<li>
<p>Sat Dec 13 04:51:45 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/387dc6c33af2913474164cb153dc9a5c63600842">ウィザードモードではモンスターのテレポートバックが位置交換になってし まうバグを修正.</a></p>
</li>
<li>
<p>Fri Dec 12 17:19:34 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0a58438aa3e17ddf60c45ebafa18c24cafa6cbe3">視線の通るREMEMBER地形が暗いまま記憶された場合は暗暗色で表示するよう に変更. また, 夜の広域マップはview_special_liteとview_granite_liteの 設定によって暗暗色で描画されるように変更.</a></p>
</li>
<li>
<p>Fri Dec 12 15:23:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/97553a19a2637a36eda1946e955662006938e042">盲目と暗黒光源に関する変更. * 非REMEMBER地形は盲目では未知の地形のように表示することを受けて,   map_info()での非REMEMBER地形の盲目対応コードを整理. また, REMEMBER   地形を盲目時に表示する場合は暗色ではなく暗暗色を用いるようにした. * 非REMEMBER地形は暗黒光源で常に真っ暗になるので, その処理は余分な比   較を削ってマクロからmap_info()に戻した. darkened_grid_hack()はマク   ロにしている意味がなくなったので削除. * 視線の通らないREMEMBER地形を暗黒光源で暗く表示する条件は, 暗い壁を   暗く表示するオプションに合わせる意味でview_granite_lite &amp;&amp;   view_bright_liteとした.</a></p>
</li>
<li>
<p>Thu Dec 11 14:23:09 2003 0000: (nothere) link:https://osdn.net/projects/hengband/scm/git/hengband/commits/c83f02ffc6eec0d91e15e9241a45664d02f5dcf0[文字が'', '%', '{'のモンスターがモンスターの知識メニューのどこにも分 類されていなかったので修正. '+', '{'はミミックに, '%'は植物/壁/気体に 分類した.]</p>
</li>
<li>
<p>Thu Dec 11 13:44:06 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ea71f815d22033f1c3393c91d780a0163ab29477">'%'からvisual modeを呼び出せるように変更. また, 各要素の編集中に&#8217;v&#8217;で その要素のシンボル編集専用モードでvisual modeを使えるように変更. な お, 以下の変更を含む. * '%'でも設定が無意味な要素 (名前なし, flavor使用, mimic使用) は変更   できないようにした. 要素番号指定では再入力を求められる. * do_cmd_visuals()の処理分岐はswitch文で書き直した. * do_cmd_visuals()での処理後は必要に応じて自動で画面を再描画するよう   に変更. * visual mode中は思い出や詳細は参照できないので, 'r&#8217;の説明を表示しな   いように変更. * visual modeでプレイヤー, 空のアイテム, 未知の地形も編集可能に変更. * ウィザードモードまたは'%'からの呼び出しでは地形のidxを表示するよう   に変更. * リスト表示の各種情報の表示桁の微調整.</a></p>
</li>
<li>
<p>Wed Dec 10 14:14:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/926b20e489ea62d264e58f445f3b5a9f9352c3e3">ﾀｸ､､ﾎｩ､ﾁ･ｨ･ﾇ･｣･ｿ､ﾇMac､ﾎEnter･ｭ｡ｼ='\n'､ｬﾈｴ､ｱ､ﾆ､､､ｿ､ﾎ､､ﾀｵ｡｣ ､ﾞ､ｿ｡｢<sup>F</sup>N<sup>P</sup>B､ﾇ､ﾎｰﾜﾆｰ､筵ｵ･ﾝ｡ｼ･ﾈ｡｣</a></p>
</li>
<li>
<p>Tue Dec 9 00:56:22 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/69815be6a27f4fb44f5ad2ae86620b5a4ffd59c0">地形のvisual modeと'%'設定に関する変更. * 'D', 'd&#8217;で地形に標準光源効果を適用できるように変更. また, 標準光源   効果の適用を関数apply_default_feat_lighting()にまとめた. * display_feature_list()の内部変更.</a></p>
</li>
<li>
<p>Mon Dec 8 02:10:00 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/33aedb83ca1a511cabbfd5faf0ca456233433a27">部屋を暗くする処理で場合によってはまだ配列外アクセスを起こす可能性の あった部分を修正. また, GLOW地形かどうかは外見で判定するように変更.</a></p>
</li>
<li>
<p>Sun Dec 7 19:54:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ce48b4e3328d9c469702e42f89906ad1c0492c99">･ﾇ･ﾐ･ﾃ･ｰ･ｳ･ﾞ･ﾉ､ﾎ ^Aa ､ﾇ､､､ﾁ､､､ﾁｲ靂ﾌﾁｴﾂﾎ､ﾆﾉﾁｲ隍ｷ､ﾊ､､､隍ｦ､ﾋｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Sun Dec 7 19:53:09 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/39662370f9ffc8017695d9e87905e69119dc8e4e">暗闇の魔法で地形が暗くなる処理で周りにFF_GLOWがあるかどうか見る時に画面端だと配列外アクセスになっていたので修正。</a></p>
</li>
<li>
<p>Sun Dec 7 17:23:21 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3e4319de33500689dee9dec2bd11dd62df554cc5">アイテムの種類判定のコードを整理。 - artifact_p等の <strong><em>p というマクロや、item_tester_hook</em></strong>, is_* 等の   判定関数を、 object_is_*という名前に統一してobj_kind.c に集めた。 - TV_*<em>BEGIN &#8656; &amp;&amp; &#8656; TV</em>*_END で判定していたコードを関数に変更。 - ★☆アーティファクトの判定をobject_is_artifact()一つでするように変更。</a></p>
</li>
<li>
<p>Sun Dec 7 14:55:09 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2c5bc87077fa0ad1eb793f0c3ae35bc6f2a0be7c">GLOW地形及び周囲8マスは暗黒属性や暗闇生成でも暗くならないように変更. また, update_local_illumination()でプレイヤー自身のマスは更新する必要 がなかったので修正.</a></p>
</li>
<li>
<p>Sun Dec 7 13:30:19 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d2e968501ecbe870d8e91702d6f5cea6d8efa70c">ZAngbandから"Code for the object templates"との実装途上の中途半端なコードが obj_kind.cに入っていたので整理。 未使用関数削除。一部関数を他のファイルへ移動。無意味なget_object_*()を廃止。</a></p>
</li>
<li>
<p>Sun Dec 7 12:35:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/17fe70dfffa44e0cbe8e7d5850067c694d0fb5e9">射撃マクロで敵がいない時に自分の足元に矢を撃ってしまう事に防止する為に、 自分の足元には矢を撃たないように仕様変更。 昔からの仕様なので何か問題が生じたら戻す。</a></p>
</li>
<li>
<p>Sat Dec 6 16:04:44 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/aebd0a448c161afd1e596b752e87bd2786918e10">ﾄｶｿﾍ･愠ﾃ･ｯ､ﾎ･ｯ･悅ｼ･｢ｻ爨ﾎｵｳｻﾎ｡｢ﾃﾏｹﾎｵｳｻﾎ｡｢､ﾋMALE･ﾕ･鬣ｰﾄﾉｲﾃ｡｣</a></p>
</li>
<li>
<p>Sat Dec 6 15:17:16 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5321de21c94e84a70e7367ce292c3050bdd9588f">暗黒ブレスで、床のCAVE_MARKが外れる様子が盲目中でも確認できてしまうので、 盲目中はCAVE_MARKに関わらず未知であるかの如く表示するようにした。</a></p>
</li>
<li>
<p>Sat Dec 6 15:02:09 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/679cedbb81f0faeeaa7fda6fadf66f657b331108">ﾆ讀ﾎ･ｯ･鬣ﾃ･ｷ･螟ﾎｸｶｰﾏﾊﾌ､ﾋﾈｽﾌﾀ(ﾇﾛﾎｰ･｢･ｯ･ｻ･ｹ)､ｷ､ｿ､ﾎ､ﾇ｡｢､ｳ､ﾁ､鬢ﾏｸｵ､ﾋﾌ皃ｹ｡｣</a></p>
</li>
<li>
<p>Sat Dec 6 15:00:22 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b2a791f87ec9cc8b06d5d1cd350ef8f488e8dccc">広域マップから山脈に降りる時の謎めいたクラッシュバグの原因判明したので修正。 generate_wilderness_area()でcorner=TRUEの時にcave[][].featの初期化を サボっているのに、関数の最後で参照していたせいで配列外アクセスが起きていた。</a></p>
</li>
<li>
<p>Sat Dec 6 13:30:36 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/15307de1142f66857a6f2c1625f211467a3bc5f0">init1.cの Revision 1.79 で、なぜかiksさんのWin実行ファイルで、 広域マップから&gt;で降りた時に、足元に山脈があると変愚がクラッシュする という謎めいたバグが導入されたので、とりあえず、1.78の状態に戻す。</a></p>
</li>
<li>
<p>Sat Dec 6 12:23:18 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/82309510b0bf51f617a5e4cbc0d4de43812da30d">パニックセーブで、セーブファイルのpy,pxの値が変になった時に自動で復帰するコード追加。</a></p>
</li>
<li>
<p>Sat Dec 6 08:39:59 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9323485e29f0e22ea429a9935ad4cc0d2b186ac5">プレイヤーのテレポートに受動テレポートモードを与えた. 主に自分の意志 とは関係のない強制テレポートに用いられる. 受動テレポートではテレポー ト先の地形にTELEPORTABLEさえあればプレイヤーの状態全てを無視する. 関 連して, 以下の変更を含む. * 全てのトラップにTELEPORTABLE追加. 発見されていて完全に安全と分かっ   ているトラップには能動テレポートでも飛ぶ場合がある. * new_player_spot()でプレイヤーを配置するルールを変更. max_attemptsを   10000回に増やし, 前半5000回でFLOOR &amp;&amp; TELEPORTABLEを優先的に探し,   それに失敗したら後半5000回でMOVE &amp;&amp; TELEPORTABLE &amp;&amp; !HIT_TRAPの条件   でプレイヤー配置を試みる. FLOORのないダンジョンへの対策.</a></p>
</li>
<li>
<p>Sat Dec 6 06:09:09 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c321522a035070520f67d5949e6e9da109ba840d">generate_rooms()関数で部屋を配置する際に無限ループに陥ることがあるバグを修正。 金鉱などの狭い階に配置を試みるとき、配置に失敗し部屋数が0個となることが頻発していた。 その後モンスターやアイテムの配置がいつまでも出来ず無限ループになっていた模様。 generate_rooms関数をbool型にし、部屋数0のときはFALSEを返して、生成失敗と扱うようにした。 ダンジョン生成失敗時は新たにダンジョンを生成しようと試みなおすのでこれで問題はないはず。</a></p>
</li>
<li>
<p>Sat Dec 6 05:03:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8d7e1f8596404ef71177491f706263bf59506030">マクロを使うよりフラグLOSやSPECIALを直接見た方がいい部分の変更.</a></p>
</li>
<li>
<p>Sat Dec 6 04:27:45 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/95f343d580c28289ca8c483b6b328f15706b31da">scatter()､ﾈmon_scatter()､ﾎlos()､rojectable()､ﾋﾊﾑｹｹ.</a></p>
</li>
<li>
<p>Sat Dec 6 03:03:45 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/73cf6078dbd5157cf25e4303a1abb0457960170d">壁が裏から照らされないようにするコードcheck_local_illumination()の範 囲に対応して, CAVE_GLOWが変化するタイミングでそのグリッドの周囲も併せ て更新するように変更. なお, 以下の変更を含む. * 暗闇の洞窟で閃光属性を使っても明るくならず, 暗くて見えなかったモン   スターは見えないままであるので, その場合はupdate_mon()を呼ばないよ   うにした. 暗黒属性に対してもほぼ同様に変更. * CAVE_GLOWの変化時にupdate_mon()が足りない部分の修正. * cave_set_feat()にupdate_mon()追加.</a></p>
</li>
<li>
<p>Sat Dec 6 00:00:17 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/444b0cda16d25a0834392edeacd4087cc9529a19">move_player_effect()の処理をbitフラグで制御するように変更. また, プレ イヤーが移動する, つまりpyやpxが変更される部分にmove_player_effect() を使い, 地形効果を適用できるように変更. py, pxへの直接代入と描画, 乗 馬を含みプレイヤーが関係するモンスターの位置交換もまとめられる限りこ の関数でまとめた. 関連して, 以下の変更を含む. * その場に留まってdo_cmd_stay()が呼ばれたり, テレポートで新しい位置に   飛んだ際もmove_player_effect()で判定するように変更. ただしその場に   留まる場合はトラップは無視する. * 歌 "分解音波" で乗馬がダメージを受けたりアイテムが壊れたりする判定   をmove_player_effect()に加えた. ターンを消費してその場に留まる際も   判定を加えるようにした. * モンスターに移動を任せている場合, 乗馬時/下馬時/落馬時はアイテムを   拾わないように変更. * 落馬時のmove_player_effect()がプレイヤー死亡時にしか有効でなかった   バグを修正. * carry(), do_cmd_walk(), do_cmd_stay(), py_pickup_floor()の引数   pickupをbool型に変更. * move_player()の引数do_pickupをbool型に変更. * 剣術 "無双三段" でモンスターが動けなくてcontinue;した場合にも   msg_print(NULL);するように修正.</a></p>
</li>
<li>
<p>Fri Dec 5 06:18:03 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b457451e92ea48cf7e83f656901542d74b28f297">typoｽ､ﾀｵ｡｣ ･ﾐ｡ｼ･ｸ･逾ｹ･ｿ･ﾗﾉﾕｲﾃ｡｣</a></p>
</li>
<li>
<p>Thu Dec 4 20:53:45 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/002781358d7a5616e17c68154eca4c78da64017e">ウィザードモードやcheat_deathでの復活時にステータス異常が回復しなかっ たバグを修正. p_ptr&#8594;is_dead = FALSE;の後にset_*()を置く必要があった.</a></p>
</li>
<li>
<p>Thu Dec 4 20:28:21 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/96bf3ca8421eb9afadc060b786708a71c64cd7db">斜め方向に方向指定でブレスを撃つとブレスが壁を突き抜けるバグを修正. 関連して, ブレスやボールの実際の着弾座標を求める際に, project_path() の戻り値である移動グリッドを実際に通る数だけ代入し直すようにした. 隣 接した壁に向かってブレスを吐いた場合に単なるボールになる判定には再代 入されたグリッド数で見るようになった. breath_shape()の引数distを復帰. また, 壁に隣接してブレスを撃つと半径1しか'*'で描画されなかったバグを 修正.</a></p>
</li>
<li>
<p>Thu Dec 4 15:50:33 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/39758196528e977ee935f1d4c0fa1d39b8e153db">ﾂｿｾｯﾆﾉ､ﾟｰﾗ､ｯﾊﾔｽｸ｡｣</a></p>
</li>
<li>
<p>Thu Dec 4 14:55:53 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c2738cd251e5925945f4b1f15f6f3fb21d1445ba">自動拾いキーワード「上質の」と「並の」を追加。 英語版メーリングリストでドキュメントの中の「無銘の(nameless)」を発見で きなかった人が居たのでわかりやすい名前のキーワードも用意しておく。</a></p>
</li>
<li>
<p>Thu Dec 4 11:31:28 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0eed4e7fca920f0d707b69318e14ef0252e2a46b">既知のモンスターリストでシアーハートアタックの名前の表示が長すぎて文字化けしていたバグ修正。</a></p>
</li>
<li>
<p>Wed Dec 3 15:55:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4811f1941586ce257fef9d723003f98f241afad7">ブレスを吐けるペットが壁に埋まったモンスターと隣接した場合に, 始点と 終点が同じ状態でbreath_shape()を呼んでしまい, 0除算を起こしてゲームが 落ちるバグを修正. ブレスは障害物と隣接したら単なるボールとして扱われ るので, breath_direct()をそれに対応.</a></p>
</li>
<li>
<p>Wed Dec 3 14:59:49 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/fdf6e1e5a1007ccb197f09ce19c5be9a8d0a1530">部屋を暗くする際に壁とみなす条件をLOSからPROJECTに変更.</a></p>
</li>
<li>
<p>Wed Dec 3 14:14:43 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/47d1d9cf01bf57fc7f471920476d607a1c05fb4b">breath_shape()にブレスの目標座標とdistを別々に渡していたためにブレス の形がおかしい場合があり, 本来ブレスが通らない位置にもブレスが貫通し ていたバグを修正. またペットのブレス巻き添え判定もおかしかったので, project()と同等に実際の中心座標を求めることにより修正.</a></p>
</li>
<li>
<p>Wed Dec 3 01:47:27 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/eafa2b825a492cba2dc525b4175ce376da16931a">開ける対象の地形をOPENではなくis_closed_door()で見ていたバグを修正.</a></p>
</li>
<li>
<p>Wed Dec 3 00:14:32 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9238eda5215565f77b71d845ce2ee5667d3dc5b6">壁が裏から照らされるかどうかの判定は元々その部屋が明るいかどうかだけ を見ていたため, check_local_illumination()コードでは移動光源/暗黒光源 を判定に含めないように変更. これにより, 光源や暗黒光源のあるモンス ターが召喚された直後に, 描画はそのままなのに判定上壁の中のモンスター が見えなくなる場合があった問題を修正.</a></p>
</li>
<li>
<p>Tue Dec 2 20:31:55 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/27b419c8cae7b4706eb4b1fbe7fdc38e87224c8d">スターバースト自体は透明な壁の向こうに投げることは出来ないがボール爆 風範囲は透明な壁を通過する仕様になったことで, 透明な壁の向こうにいる モンスターがスターバーストを使える場合, プレイヤーに向けて投げられた ボールの中心から半径3以内の爆風範囲にいる場合はスターバーストを選択肢 に入れて, 透明な壁の向こうから攻撃できるように変更. なお, 以下の変更 を含む. * 閃光のブレスと分解のブレスの両方を持つモンスターの視界内のPROJECTの   ない地形にプレイヤーがいる場合, 分解の判定を優先するように変更. * 以前にget_project_point()を簡略化した結果着弾点の計算がずれていて,   ボール範囲でのペットの巻き添えバグも再発していたので再修正. * スターバーストの巻き添え範囲判定を透明な壁に対応.</a></p>
</li>
<li>
<p>Tue Dec 2 17:58:40 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3936ba0bef686576dc11106acaac34c42e0de716">'%'や'@'で変更した設定やマクロをprefファイルに書き込まずに使う場合に 問題が起きるので, pref自動リロードの対象はautopickに限定. また, オプ ションとせずautopickは常に自動リロードするように変更.</a></p>
</li>
<li>
<p>Tue Dec 2 17:43:20 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b2a8ed5f99a508cdf87c831430e256d9a77d5b77">閃光と弱い閃光のブレスとビームは透明な壁を通すように変更. ボルトと ボールは通さない. 閃光のブレスをプレイヤーに使う際の特殊判定追加. ま た, 壁の中にいるプレイヤーに分解のブレスを吐く地形判定を!PROJECT &amp;&amp; HURT_DISIとした. これは分解できずに抜けられる壁がある場合は威力が半減 するため.</a></p>
</li>
<li>
<p>Tue Dec 2 16:09:48 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f2d29931e4f6357170054cd544835e8c68edacb2">最近 process_world()のコード整理した時に prev_min の計算を間違えてエンバグしていたので再修正。</a></p>
</li>
<li>
<p>Tue Dec 2 14:43:02 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d9b9cf8a6f3bdd4068087098da13781eea56f281">モンスターボールのpvalが劣化して中身のモンスターが変わってしまうバグ修正。</a></p>
</li>
<li>
<p>Mon Dec 1 23:49:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a5c0dcac5ced9d090200c46bb0c4bee1518d1137">new_player_spot()でのプレイヤーのランダム初期配置条件にTELEPORTABLEを 追加. これにより, ダンジョン "森" に入った時に木の中から開始しないよ うに修正. また, 地上では木と山脈の上に配置できるようにするため, ラン ダム初期配置条件にはMOVEとTELEPORTABLEを参照しないように変更.</a></p>
</li>
<li>
<p>Mon Dec 1 22:43:11 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e4cb892f10d347136f6bb555a610938babce86f6">view_*_gridsがOFFの時, プレイヤーから見えているダンジョン外周の床の mimicに接触すると地形が見えない扱いとしてターンを消費していたので, move_player()でのプレイヤーが見えない地形判定をplayer_can_see_bold() で行うように修正. また, boundary_floor_grid()マクロをdefines.hから 削除. cmd1.cに移転して判定条件とマクロ名を変更.</a></p>
</li>
<li>
<p>Mon Dec 1 19:56:04 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2072faf43f95a225073c944f0a18def671128029">アーチャーの岩石からのスリング用の弾作成に関する変更. * 岩石が泥になるメッセージを出さないようにした. * 地形判定をCAN_DIG &amp;&amp; HURT_ROCKに変更. * 明らかに材料にできない地形から作成試みた場合はターンを消費しないよ   うに変更. ただしmimicしているために失敗した場合はターン消費.</a></p>
</li>
<li>
<p>Mon Dec 1 19:21:47 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5f99ea870e5a55deac727647aa210acc9f5d48b7">Typo fix: "record_maxdeapth" &#8594; "record_maxdepth".</a></p>
</li>
<li>
<p>Mon Dec 1 19:11:56 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/24454564fba2dc72639180071698726a1bc1af9d">auto_scum系オプションに関する記述が残っていたので削除.</a></p>
</li>
<li>
<p>Mon Dec 1 18:59:51 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6f6240b9ca62836c9fd2b00947cc9aec6cc0b0d3">設定ファイルの評価内容が変わる可能性のある部分でprefを自動で読み込む ゲームプレイオプション "autoload_pref_files" を追加. なお, 以下の変更 を含む. * pref-opt.prfのオプション並びが再編成後のものに対応していなかったの   で対応させた. また, X:exp_need, X:destroy_feeling,   X:destroy_identifyを追加.</a></p>
</li>
<li>
<p>Mon Dec 1 17:06:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2cd0066881f443799b839312e51b22c552050657">クエストファイルでmimic操作ができる仕様はtrapを使えば十分なので削除.</a></p>
</li>
<li>
<p>Mon Dec 1 16:01:18 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/36edef984c3b5eee13aa68a18cc326f70841e242">WindowsとMacintoshで#undef HANDLE_SIGNALSしていたのをやめ, シグナルを ハンドルするように変更. 異常終了時の緊急セーブが有効になる.</a></p>
</li>
<li>
<p>Mon Dec 1 14:28:54 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0141d6c7f47601345d36d8d7de5a41f0859082b7">一時的な壁抜け使用直後に壁を抜けられなかったバグを修正. PU_BONUS忘れ.</a></p>
</li>
<li>
<p>Mon Dec 1 14:21:04 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/24f2e4187c902f4ad880c5363d326e9f03532be0">走る判定のsee_wall()でドアは壁とみなさないようにした.</a></p>
</li>
<li>
<p>Mon Dec 1 13:50:52 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/68a95e230c97bd960c1175a21f9d14f94a0b0368">regenhp()の方にもエンバグがあったので修正。 また青魔法の学習によるMP消費でs64b_mul()の使用が残っていたので、s64b_LSHIFT()に変更。</a></p>
</li>
<li>
<p>Mon Dec 1 13:00:43 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9bb8c5828d13f9de50133bff40f3cfd3300b3c5e">分解属性の地形破壊をproject_f()で見るように変更. また, 分解属性のビー ムである場合はPROJECT_DISIを有効にするように変更. これにより, カオス 魔法 "混沌召来" で分解ビームが出た場合に一列を破壊するようにした. な お, 以下の変更を含む. * cave_stop_disintegration()の判定に!HURT_DISIがなかったので修正. * breath_shapeから変数real_breath削除. * 分解属性は地形が破壊されて当然の属性であり, PROJECT_GRIDを内部で必   ず立てるようにした. * do_disintegration()削除. * 分解に限らず地形が破壊された後には視界が変わる可能性があるため, 必   要であればアイテム処理の直前にupdate_stuff()を呼ぶようにした.</a></p>
</li>
<li>
<p>Mon Dec 1 11:39:13 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/17cdcaf1e1a834cbcead4b47282aa7422c7f0464">s64bのシフト演算マクロ s64b_LSHIFT()とs64b_RSHIFT()をbit数指定に拡張して、 (1L&lt;&lt;16)を掛け算する所を16bit シフトに直した。regenmana()書き変え、コメント修正。</a></p>
</li>
<li>
<p>Sun Nov 30 22:38:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/65dc54a6ac16fd857d15f82ed99e6bb866ee94b6">regenmana()のエンバグ修正。1ターンにMP1以上回復するはずの時、異常に回復が遅くなっていた。</a></p>
</li>
<li>
<p>Sun Nov 30 15:32:55 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c3d4983e61983b8c6dac35c73abaab586cd9d020">半巨人のレイシャルパワー "岩石溶解" 発動時のメッセージ削除.</a></p>
</li>
<li>
<p>Sun Nov 30 15:29:41 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/90df4f75677a5c040bda4eb88983b8a09938b8c4">岩喰いで木が喰えなかったのは仕様だったため, 元に戻した. 判定はTUNNEL ではなくHURT_ROCKを用いることにした. 木の場合のメッセージを少し変更.</a></p>
</li>
<li>
<p>Sun Nov 30 14:53:39 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ab53fc1ffdc645326b9a234f9105ce9c9d2c02f4">cave_floor_*()の使用に関する変更. cave_floor_*()は完全に削除. * try_door(), next_to_corr()で使われるものはWALLの参照に置き換えた. * コメントでcave_floor_*()が書かれている部分からも削除. * 忍者の速駆けの中止判定, 地震での地形破壊判定はPROJECTに置き換えた. * 岩喰いにはTUNNELを使うようにした. また, ペットでないか見えないモン   スターがいる場合は攻撃するようにした. 木を食べても木が消えなかった   バグも修正. 岩喰いに残っていたFEAT_*直接比較もフラグに置き換えた.</a></p>
</li>
<li>
<p>Sun Nov 30 13:10:15 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4d222de519dcf46236725c5cb04287c673528a7c">typo</a></p>
</li>
<li>
<p>Sun Nov 30 11:57:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/dafc597f4ae393cd0d494448867d108348747168">搭で重なったモンスターが乗馬中と出るバグが、まだ完全に直ってなかったので再修正。</a></p>
</li>
<li>
<p>Sun Nov 30 11:37:05 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9721077aef7ba8e5925ea3c9fc68fe9a9ef958cd">zangband から、next_to_walls() で、壁の数を数える代りに床の数を 数えてしまっていたのをとりあえず壁に戻した。</a></p>
</li>
<li>
<p>Sat Nov 29 23:00:19 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/66627aafee0a09d8d126231fcb2b958d728c5ae1">隠しドアを隠せない地形で隠しドアを潰す判定をMOVE || CAN_FLYとした. 潰 す際に1/2でmimicで上書きになるかダンジョン標準の床になるかに分岐する ように変更.</a></p>
</li>
<li>
<p>Sat Nov 29 22:54:05 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1d5905abe6d1f2d250f111a82a7aeb09e158c5ee">搭の階段の上でモンスターに重なった時、(乗馬中)と表示されないように修正。</a></p>
</li>
<li>
<p>Sat Nov 29 22:19:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8bf37096d3a127962eefb003c987dcbe5c1a5390">lite_townでの古い城の報酬が最新のものに追従していなかったのを修正. また, t0000001.txt内のコメントを修正.</a></p>
</li>
<li>
<p>Sat Nov 29 22:17:44 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5913a1c54690071eeaf84bd4125ae4766bc1089b">ﾆﾃｰﾛﾅﾀ･ｯ･ｨ･ｹ･ﾈ､ﾎﾀ篶ﾀﾊｸ｡｢ｸ﨓釥ｵ｡｣</a></p>
</li>
<li>
<p>Sat Nov 29 21:59:56 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a656ac86e352cdd459723556edb7f8c8f708308d">32bitで足りない場合の演算コードの一般的な関数群 s64b_???()を作った。 経験値の取得、あと何体でレベルアップするかの表示等を全てこの関数セットで計算。 その過程で、MPの減衰に関するコードのバグ修正/仕様変更： 多数のペットや、最大値を越えるMP等が減衰する速度は、 普段のMP回復速度に依存しないようにした。降鬼の構え中にMPが減衰しないバグも修正。</a></p>
</li>
<li>
<p>Sat Nov 29 21:06:29 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a3513a01f5be67f328f9537795f4e9ee636bc49a">クエストや街の地形指定をタグ参照式に変更. また, 地形行F:の第10引数で 地形のmimicを指定できるように変更. ランダムトラップとmimicがある場合 はトラップ設置に当たりmimicの判定を用い, 元の地形は無視される.</a></p>
</li>
<li>
<p>Sat Nov 29 14:11:18 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3041366bd752fe85f30a8319d645adb5bf0eda9f">FF_MOVEの扱い方の整理. * カオス魔法 "流星群" やトランプ魔法 "隕石のカード" では単純に   projectable()を見るようにした. * 落馬時の地形チェックを行う地形は!MOVE &amp;&amp; !CAN_FLYとすることで, 暗い   穴の上に落とせるようにした. 落馬して移動を伴った場合は地形効果   チェックを行う. 関連して, 乗馬/下馬時も地形効果チェックを行う. * 新しいフロアでのペットの配置にはmonster_can_enter()を用いる. * new_player_spot()でのプレイヤーの初期位置決定で, MOVEのない地形は禁   止した. これにより, 竜の住みかで壁の中に開いた穴の上に配置されない   ように修正. * 壁を抜けられるモンスターが暗い穴の上を飛ぶと "壁を抜けられる" こと   が記憶に残るバグを修正. * "(地形)の中" と表示される条件を!MOVE &amp;&amp; !CAN_FLYに変更.</a></p>
</li>
<li>
<p>Sat Nov 29 11:38:00 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/29724fd0a0051401ed0fd1595f082f4c899aed66">"ペットに名前をつける。" の "。" を削除.</a></p>
</li>
<li>
<p>Sat Nov 29 11:16:23 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5e03494ca14f13b97da4df1f6f35a35072806788">トラップに掛かる, 迷宮の地形を忘れるなどと言ったプレイヤー移動時の効 果を関数に分けた. これにより, 乗馬時の移動を乗馬に任せた場合にトラッ プを無視できたり迷宮を忘れなかったりするバグを修正. なお, 以下の変更 を含む. * モンスターのドアの鍵解除でいきなりドアが開いていたのを修正. * モンスターがドアを開けた際に1ターン消費する事を意図していたようだ   が, 実際は移動できていたバグを修正. * モンスターがドアを打ち破った際にドアの位置に移動できなかったバグを   修正.</a></p>
</li>
<li>
<p>Sat Nov 29 00:31:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c9ddb349b54d614485066c1d317bde753ab778d7">束になったロッドの一部だけが充填完了した時、持ち物サブウィンドウの表示が アップデートされていなかったバグ修正。1.4.5/1.6.0へのマージ候補だが、 先のrevisionで周辺を大きく変更してしまったので手作業が必要。</a></p>
</li>
<li>
<p>Sat Nov 29 00:23:09 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/985a7c5c22ebf0cd9b843d4d563b4833ae09fb6c">コード整理。process_world()があまりに巨大で管理しずらいので、 時刻に依存しない部分は全て小関数に分けた。</a></p>
</li>
<li>
<p>Fri Nov 28 21:11:43 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4cc971a2d8cdd5a81f55b5d98c29bc3c885fa3e9">セーブコマンド実行時に、sanity_blast()を受けてしまうバグ修正。 ゲームロード時と同様に、hack_mindをFALSEにする。</a></p>
</li>
<li>
<p>Fri Nov 28 12:46:10 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8869908a388f7162c73d9e030b043823bcb495ff">f_infoで, 非DESTROYアクションに対してK:action:自分自身が使われている 部分を削除. また, Typo fix: "opeing" &#8594; "opening".</a></p>
</li>
<li>
<p>Fri Nov 28 12:15:38 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/dd2b62b97e784f98802babd5081ec3813658f3ab">cave_set_feat()中で, ダンジョン生成中であってもCAVE_OBJECTを処理して いたのでしないように変更. また, ダンジョン生成中でもcave_set_feat()や glow_deep_lava_and_bldg()でnote_spot()やlite_spot()が呼ばれていたの で, 呼ばないように変更.</a></p>
</li>
<li>
<p>Fri Nov 28 10:03:06 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e91228933fe5d217c986cc0f46d5a920f666a948">CAVE_OBJECTはcharacter_dungeonで意味が変わるので修正.</a></p>
</li>
<li>
<p>Fri Nov 28 08:14:08 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/24ef59b44ee619266633663798465816cdde0edc">cave_set_feat()でもc_ptr&#8594;mimicはリセットされ, 鏡を消す処理を含むた め, 暗闇の洞窟でCAVE_GLOWを落とす処理を追加. また, 分解属性で壊れる地 形にアーティファクトがあると地形が壊れなかったバグを修正.</a></p>
</li>
<li>
<p>Fri Nov 28 01:50:14 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1140e882c0335a3ca37c7a5f2f9df2916c555ded">プレイヤーの壁掘り移動判定のバグ修正. * 入れない地形かどうかを見ずにLOSの有無を見ていて, 透明な壁が掘れなく   なっていたバグを修正. * 移動可能な非LOS地形 (木など) の上にアーティファクトがあれば地形を掘   れないバグを修正.</a></p>
</li>
<li>
<p>Thu Nov 27 16:58:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2095df741d803545b613b8210d791a419416f11c">*FLOOR*等の特殊タグの参照にFEATすら使わなくていいように, 変換が必要な フラグCONVERTとpower値を与えた. f_info中の番号がずれても, 処理内容は powerで分岐する.</a></p>
</li>
<li>
<p>Thu Nov 27 16:38:17 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/41f0babfdc86bf10e7481643c37a6b0d24c43337">*FLOOR*等の特殊タグの実装を変更. ソース中に存在する負の数値ではなく, f_info中にタグ領域を取ることにした. 内部の記号定数名は変換が必要とい う意味を強調し, FEAT_DUNGEON_*からFEAT_CONVERT_*とした.</a></p>
</li>
<li>
<p>Thu Nov 27 15:48:48 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/953198dbfb6ae4cc169c34099e28e3b7539daa35">ライト・エリアで光が通る条件をPROJECTではなくLOSに戻した.</a></p>
</li>
<li>
<p>Thu Nov 27 15:17:27 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bb5d14c6339624dd46dbfba925ca3621fa8c7217">壁の向こうにいる場合は友好的/ペットのユニークの退却時の台詞は聞こえな いようにした.</a></p>
</li>
<li>
<p>Thu Nov 27 14:11:21 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f13c78d21fd4681945a59708e27f8608119eaea5">find_hiding()のplayer_has_los_grid()をprojectable()に置き換え忘れてい て, 透明な壁の近くで集団の自然界モンスターがそのまま歩いてくるように なるバグを修正.</a></p>
</li>
<li>
<p>Thu Nov 27 13:40:16 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d598d23a3d8fe6ecccf2f3b25bca8bb78ec3ac4d">los()やplayer_has_los_*()の使用に関する変更. 主に透明な壁の作成を想定 している. * 以下で使われる物はprojectable()に置き換えた.   - find_safety()のplayer_has_los_bold().   - summon_possible()内の召喚場所判定.   - ペットのボール魔法の巻き添え判定.   - drop_near()でアイテムを落とす場所判定.   - ボール魔法の展開判定. これに伴い, projectable()で始点と終点が同じ     だった場合はFALSEではなくTRUEを返すように変更.   - 反射先の判定.   - ハルマゲドン・トラップの召喚位置判定.   - カオス魔法 "流星群", トランプ魔法 "隕石のカード" の位置判定. * 以下で使われる物はprojectable()との併用にした.   - 水戸黄門の印籠発動時の各種効果の許可判定.   - 名前付きペットが付いて来られる判定.   - プレイヤーによる魔力消去, テレポート・レベル, テレポート・バック.   - 敵対モンスター同士の移動判定.   - 集団の自然界モンスターの行動.   - get_moves_aux()でのplayer_has_los_bold().   - モンスターが台詞を喋る判定.   - モンスターが死者復活を使うかどうかの判断.   - fetch()でrequire_losがあるときの判定.   - 鏡魔法 "封魔結界" の視界内判定. 透明な壁の向こうで安全に遠隔操作     されないようにする意味がある.   - project_hack()による視界内攻撃. * 以下は保留中.   - scatter().   - mon_scatter().</a></p>
</li>
<li>
<p>Thu Nov 27 12:09:14 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/430c0d98ab2b7f781bc749b22355994cb59621d7">drop_here() について、クエスト内のコードとの関係で結局どうやっても必要 になる事がわかったので一時しのぎでなく、ちゃんと書いておく。</a></p>
</li>
<li>
<p>Thu Nov 27 03:47:26 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bdaee32c2ddcddca216d140c8292e6cb819e7dfe">地形変化などに使える特殊タグを追加. これらのタグを追加することで, FEAT_FLOORを内部でfloor_type[randint0(100)]に変換するhackを破棄. 普通にFEAT_FLOORを使えるようになる. 以下の特殊タグが使える. <strong>FLOOR</strong>:   floor_type[randint0(100)] <strong>WALL</strong>:    fill_type[randint0(100)] <strong>INNER</strong>:   feat_wall_inner <strong>OUTER</strong>:   feat_wall_outer <strong>SOLID</strong>:   feat_wall_solid (現在はfeat_wall_outerと同じ) <strong>STREAM1</strong>: d_info[dungeon_type].stream1 <strong>STREAM2</strong>: d_info[dungeon_type].stream2</a></p>
</li>
<li>
<p>Wed Nov 26 21:10:56 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/90fdfa8f69828f7ac2417a20b879535e64d0051c">build_arena()､ﾈbuild_battle()､ﾎｺﾂﾉｸﾃﾍtypo｡｣</a></p>
</li>
<li>
<p>Wed Nov 26 20:19:41 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ab541064fce46cea4826ffea5c6ef13fb1d0dec0">クエストの報酬を置くコードで重大バグ。その場しのぎで修正。 フロアの生成途中に drop_near() を呼び出していた為、そこからlos()を呼んで、 まだ生成していないgridのfeat(不定の値)でhave_flag()を使った為、 segmentation faultで落ちていた。 とりあえず、los()を呼ばずに足元にアイテムを置く関数drop_here()を急造して クラッシュを避けた。 リリース前に報酬を渡すコードを書き変えて、賞金首の報酬と同様に直接渡すようにしたい。</a></p>
</li>
<li>
<p>Wed Nov 26 20:15:01 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4f8765ffacbff152d9b264451f5ea959a0face07">ｺﾂﾉｸﾊﾑｿﾎtypoｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Wed Nov 26 18:01:53 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/508bde5351d4e40ca3f0d2d191a46523e97e8647">defines.h､ﾋFEAT_MOUNTAIN_WALL､ﾉｲﾃ.</a></p>
</li>
<li>
<p>Wed Nov 26 17:55:54 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1c7646b97b81f917710cce3e44880fd6516a3c73">暗黒光源のdarkened_grid_hack()内でテキストモード時に暗黒光源に染まっ た床を敢えて真っ黒い元の文字として表示いたが, この仕様にほとんど意味 はないため, 単に未知の地形の設定を使うように変更.</a></p>
</li>
<li>
<p>Wed Nov 26 17:30:41 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d40b50b4a314062040fef84ed67d5eb905d45864">地形の名前を表示する部分でmimicを無視した表示をしてしまい, 本当の地形 が分かっていたバグを修正. なお, 以下の修正を含む. * do_cmd_tunnel_aux()でmimic_featが0になることはないので削除.</a></p>
</li>
<li>
<p>Wed Nov 26 16:43:50 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9ecad169dac73a1842d8f68088c8b0763dd5e9db">地形を叩き開ける際に, OPENで地形が変わらない地形だった場合その地形に めり込むバグがあったので修正. また, くさびの打たれたドアにK:OPENがな くこのバグが出ていたので併せて修正.</a></p>
</li>
<li>
<p>Wed Nov 26 16:04:30 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c3cda9bbdd0f6f7414b7baf890107e50df4e86a5">ダンジョン情報のfloor1-3, fill_type1-3の配列化. set_floor_and_wall() の整理.</a></p>
</li>
<li>
<p>Wed Nov 26 12:19:04 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1acd2710d85396e7a60a37fd5df6cf267051e943">溶岩は自分で光っているので光源効果は受けないようにした。</a></p>
</li>
<li>
<p>Wed Nov 26 12:10:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/301372e12ec474263db16d1476375188d5149fd0">change_wild_mode()をコード整理。溶岩で火傷した時にすぐに広域マップから 出るようにしようと思ったのだが、逆に溶岩地帯から広域マップに移動する事 が出来なくなって不便なのでやめた。結局コード整理のみ。</a></p>
</li>
<li>
<p>Wed Nov 26 11:55:53 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/29a50abd513066fce6ea4cea55043f904187156f">cave_floor_*()の使用に関する変更の途中経過. * ライト・エリア範囲の処理で壁とみなされる条件はLOSかPROJECTのどちら   かが欠けている場合とした. * 以下で使われるcave_floor_*()はFF_PROJECTの参照に置き換えた.   - 全方向打撃で, 見えないモンスターにも攻撃できる地形判定.   - カオス魔法 "虚無召来" での壁判定.   - 分解のブレスを持つモンスターの視界内にいる時に分解のブレスを吐き     易くする判定.   - fetch()でアイテムを取り寄せる際に, 方向で指定した時の壁判定. * 幽鬼戦隊召喚の場所判定はcave_empty_bold()に置き換えた.</a></p>
</li>
<li>
<p>Wed Nov 26 09:10:13 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3a250852d464c9baab8e6b0086f2216b7624de31">英語版でメッセージ文の右端が切れていたので修正。 また、(0)マクロ行動の入力 でもメッセージを出すようにした。</a></p>
</li>
<li>
<p>Wed Nov 26 09:01:37 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/792be330318f89a5a5d5aa6e67de6b7cc6013c3e">英語版のコードにゴミ「y」が入ってコンパイルできなかったので修正。</a></p>
</li>
<li>
<p>Wed Nov 26 08:51:03 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6b379a9f97870d7bb965822a5496eef8e935e63f">マクロアクション入力中に、カーソルキーが使える旨のメッセージを画面下に表示するようにした。</a></p>
</li>
<li>
<p>Wed Nov 26 06:01:52 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/193337a409dc7463d4192aa9456c413bb3e0f797">wild catの説明文、vanillaでのtypo修正に追随。和訳も変更。</a></p>
</li>
<li>
<p>Tue Nov 25 18:28:05 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d4a7834a72b954ec5a3f8ef3b93532a95428b573">英語版がX11で無駄にlocaleを環境変数から取得しないようにした。 ja_JP.eucに設定されてmissing font(s)とか文句を言わないように。</a></p>
</li>
<li>
<p>Tue Nov 25 18:11:08 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e3046ec6fc4aae66769f666d5d502ad7e8b02f02">壁抜け時に、壁の中に向かって走らないようにしていたコードを間違って取ってしまっていたので再追加。コメント付加。</a></p>
</li>
<li>
<p>Tue Nov 25 17:05:43 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/785eb067eac26f7d53140d94434f1d279b02373e">cave_floor_*()の使用に関する変更の途中経過. * 与えられた座標の地形(mimic無視)がLOSを持つかどうかのみを返すマクロ   cave_los_bold()と, そのc_ptr版であるcave_los_grid()を作った.   cave_floor_bold()を単に視線が通る意味で使っていた部分を置き換えた. * 以下で使われるcave_floor_*()はFF_PROJECTの参照に置き換えた.   - prt_path()による軌道表示.   - 射撃/投擲の停止判定.   - スターライトの杖などの, ランダムな壁のない方向に飛ぶ魔法.   - 破邪魔法 "神の怒り" のターゲット指定.   - 剣術 "虎伏絶刀勢" が半径0のボールになる地形判定. * 以下で使われるcave_floor_*()はmonster_can_enter()に置き換えた.   - モンスター・ボールからのペットの解放.   - クエスターの配置. なお, アイテムの上に生成されない仕様は削除. * 武器のカオス的効果でモンスターが変身する判定にcave_floor_bold()が使   われていたために壁や木の中のモンスターは変身を受けない仕様だった.   各種魔法での変化と違って打撃だけ特別扱いするのをやめた.</a></p>
</li>
<li>
<p>Tue Nov 25 16:03:08 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6e0165fc4f6b6a74a285c26d10004f76db62236e">MOUNTAIN_WALLに K:UNPERMを追加し忘れていたので修正。 他に _INNER 等が今だに残っていた所を修正。</a></p>
</li>
<li>
<p>Tue Nov 25 15:58:43 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1ca6d3070621697c8bf05f34bd718fb3c73a585b">set_tunnel()で山脈にトンネルを作れないバグ修正。 vaultsの永久岩は inner なので、わざわざコードを追加しないでもちゃんと無視されている。</a></p>
</li>
<li>
<p>Tue Nov 25 15:31:03 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c1cf96221f71463b1ae621ee453d5b80448ce37f">テレポートの仕様整理。 ・vaultsは常に禁止。 ・木は禁止(森ダンジョンでこの方が自然) ・アイテム/鏡/結界 等は禁止しない。 ・深い水、浅い溶岩、深い溶岩は、プレイヤーの状態によって許可。 ・wizardモード時は次元の扉でどこでも移動。</a></p>
</li>
<li>
<p>Tue Nov 25 14:48:28 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0c86be7a8e6652f6f11d88c04a4b0604913aba0b">改名 warding_mirror()→place_mirror()。</a></p>
</li>
<li>
<p>Tue Nov 25 14:37:14 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8fab74d6ce3413da76c64d416f14bc8aee6cb2ce">cave_droppable_bold()を変更。他のアイテムに重なる事を許可する時にも 使えるようにして、重なるのを禁止する時は明示的にそうするようにした。 また、shallow waterにFLOORを付けて鏡を置けるようにして、 鏡を配置する判定コードは元に戻した。 FLOORがあると英語版でlookした時 "a "を上に付けないので、 また deep water 等も合わせて"a "を付けないようにコードを変更して、 f_infoの英語名を"a "を付けないでいい形に修正。(unangbandと同様)</a></p>
</li>
<li>
<p>Tue Nov 25 05:22:38 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cf68107ba21fd3bc3d97b60c5b255e5c602f4783">cave_clean_bold()の使用に関する変更. * プレイヤー初期配置でcave_clean_bold()が使われていて, 地獄などのよう   にFF_FLOOR地形が存在しないダンジョンでプレイヤーを配置できず無限   ループに陥るバグを修正. * アイテムを置けるかどうかを見ている部分ではDROPが無意味になってしま   うので, FF_DROPの有無とオブジェクトの有無のみを見るマクロ   cave_droppable_bold()を作り, それに変更. * 浅い流れの地形が主になる地形では鏡使いが鏡を置くことができず, まる   で戦えない場合が予想されるため, 鏡の設置にもcave_droppable_bold()   を読むようにした. ただし, 木の上に鏡を作られないようにPROJECTを必要   とした. 回避の彫像の設置にも暫定的に適用. 爆発のルーンはトラップな   ので, FF_FLOORを読むcave_clean_bold()のままにした.</a></p>
</li>
<li>
<p>Mon Nov 24 19:42:38 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7d6d8b27bee8637f29b4746d7c574928dd2c9789">GF_MAKE_TRAPで無駄な地形判定削除。place_trap()が全てやってくれる。</a></p>
</li>
<li>
<p>Mon Nov 24 19:25:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cf3d7682b2e91f34d5c9495dac6334054e759665">花、草むら、沼 に FF_FLOOR 追加。 cave_clean_bold()はFF_FLOORを見るように変更。 cave_naked_bold()はcave_clean_bold()を呼び出す。 LAVE_FLOWとWATER_FLOWはcave_naked_bold()を使うのをやめて、 アイテム等があっても邪魔されないようにした。</a></p>
</li>
<li>
<p>Mon Nov 24 18:31:00 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/772e2075f15f7cf6d92181ee600e5da08080ff5f">cave_naked_bold()に関する変更. * 条件に "PROJECTが必要" "DOORでないこと" 追加. これにより, "ドア生   成", "石の壁" などで木をドア/壁に変えてしまうバグを修正. * デバッグコマンド ^A H でモンスターの大群を召喚する場所の判定を   cave_naked_bold()ではなくcave_empty_bold()に変更. 以下の変更を含む. * project_f()で, GF_LAVA_FLOWとGF_WATER_FLOWの処理でdam--;する部分に   意味はないので削除.</a></p>
</li>
<li>
<p>Mon Nov 24 17:34:06 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4b1386ecde375208c9f58eb8b0dbb714a6f1c872">虚無召来の大部屋モードでパターンが消える意味が無いのでHACKを削除。</a></p>
</li>
<li>
<p>Mon Nov 24 17:12:12 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/729823f7f5b26916b4d60ba744db0d5577d95364">see_wall()の修正でエンバグして山で走れなくなっていたので修正。</a></p>
</li>
<li>
<p>Mon Nov 24 17:06:18 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/80f43fac9a75fe4479dcde3fe441db100b0a8b01">暗い穴は光源効果を受けないように修正。 MUST_FLYを CAN_FLY+MOVE無し に置き換え。</a></p>
</li>
<li>
<p>Mon Nov 24 15:56:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/62e66f0a6a39b5ef7f9a91e3b44f163ae62dd5fd">INNER OUTER SOLID削除。</a></p>
</li>
<li>
<p>Mon Nov 24 14:59:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9044632916239fafada8d4a4ee28317be3d9ed06">FEAT_*_EXTRA, FF_EXTRA, _INNER _OUTER _SOLID を完全に抹消。 c_ptr&#8594;flags で管理するのでこちらは保持する意味はない。 FEAT_PERMの方は生成時にc_ptr&#8594;flagsをちゃんと書き込むようにした。</a></p>
</li>
<li>
<p>Mon Nov 24 13:56:01 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2743a3cc38325a99f26df72cd545008c3e4cfaf0">山脈を2種類の地形に分けた。また山脈だけを特別扱いするコードをほとんど廃止。 PERMANENTの壁と同じにした。FF_MOUNTAIN を参照するのは、 荒野の山を歩けるモンスターの移動と、荒野の山でのモンスター生成の2個所のみにした。</a></p>
</li>
<li>
<p>Mon Nov 24 11:50:07 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9160477db887d62c395aab95a59e8f571b3f0da7">^A z ､ﾈ ^A Z ､ﾇｾ霽ﾏ､ｦ､ｷ､ﾊ､､､隍ｦ､ﾋ､ｷ､ｿ｡｣</a></p>
</li>
<li>
<p>Mon Nov 24 10:02:32 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/64b6d5a88a38f6ed50b835b27b2c9f98ed15f9a4">装備品の説明文が*鑑定*時に表示されるが、 剣術家の「刀匠の目利き」で常に*鑑定*するレベルに達っした後、 いちいち表示されて非常にストレスが溜まる状態だったので、 説明文しか無い non-エゴ non-★ は*鑑定*後の表示をしないようにした。</a></p>
</li>
<li>
<p>Sun Nov 23 19:52:11 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a86ee464b6a73b0dbd8b930d3724e3dc1ba0911d">マクロcave_empty_bold2()の条件がおかしく, ダンジョン内の木の中にモン スターが初期配置されていたのを修正.</a></p>
</li>
<li>
<p>Sun Nov 23 19:40:47 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/790fd730730c4f684f05733c6941d990dc36dccd">壊れていないドアの上にアイテムが転がって閉じなくなると不便という意見 を受けたため, 壊れていないドアの上にはアイテムを置けないように戻した. フラグのみの変更であり, コード自体はまだ消していない.</a></p>
</li>
<li>
<p>Sun Nov 23 19:18:01 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c7870baf9601bc2df7f7530db0c159dcfb1dcbdd">モンスターのフラグの追加. * 地獄の鉄槌にBASH_DOOR追加. * ヘルブレードはカオス・ブレードに近い物であると解釈でき, &lt;コーン&gt;の   血戮悪魔はそのヘルブレードを装備していることがテキストにあり, また   カオス・ブレードを落とすことから, この2体にRES_CHAO追加.</a></p>
</li>
<li>
<p>Sun Nov 23 18:54:35 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/45ce36c00fc1651e3dc60a56b33b26c100759923">ミミックnestの許可シンボルに'&amp;', '(', '/', '[', '\'を追加. '&#8217;は以前 に消されているので追加しない. 問題がある場合は調整を要する.</a></p>
</li>
<li>
<p>Sun Nov 23 18:19:33 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/13b60b9c53039addaa0cd60d4327e9b874844e04">character_xtra時でもプレイヤーの善悪を計算するようにした. 種族別で善 悪に影響する処理は種族別フラグの処理と同時に行うことにした. 『神罰の 鉄球』での属性変化は武器のループに含めた.</a></p>
</li>
<li>
<p>Sun Nov 23 17:03:30 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c79fbb2e4e8ebfb049c0c7a7af1e2c3c209e6b92">exit_game_panic()の仕様を元に戻した. Windowsでのシャットダウン処理は exit_game_panic()とほぼ同等でエラーメッセージを省いたものを使うこと とした.</a></p>
</li>
<li>
<p>Sun Nov 23 16:26:40 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9986421a09887fc1106ff147693977ddcdbf1cbb">Windowsで, 変愚蛮怒を起動したままシャットダウン/ログオフが発生した場 合, WM_QUERYENDSESSIONが発行されたらパニックセーブでセーブするように した. 終了中にメッセージウィンドウが出られては困るので, 緊急セーブの 関数exit_game_panic()にメッセージ無しモードを付けた.</a></p>
</li>
<li>
<p>Sun Nov 23 15:24:06 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0eed76e81251d0ff4a2d25ba39f7fd5f65ef338f">ドラゴンスレイとドラゴンESPの自動刻み記号についてのヘルプ文章訂正。</a></p>
</li>
<li>
<p>Sun Nov 23 14:43:21 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6c41e5383db371ab1cb0df4a4312212de7e89e72">入身で、暗い場所に居るモンスターを攻撃した時、視界内のはずなのに update_mon()を先にしない為、「何かを攻撃した」と表示されていたバグを修正。</a></p>
</li>
<li>
<p>Sun Nov 23 14:10:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/33e12e5a33a1a01b132ce25917fc85315cc5a93e">mon_scatter()､ﾋr_idx､ｿ､ｨ､ﾆ｡｢ｿｼ､､ｿ螟ﾎｾ螟ﾋ､ｲ､ﾊ､､･筵ｹ･ｿ｡ｼ､ﾎｾ､ｴｭｸ菘ﾏ､ﾈ､ｷ､ﾆﾁｪ､ﾇ､ｷ､ﾞ､ｦ､隍ｦ､ﾊｼｫﾂﾎ､ﾉｻﾟ､ｷ､ｿ｡｣</a></p>
</li>
<li>
<p>Sun Nov 23 13:27:33 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/67cf67457b1fc3501daccb921a1d15f4c83845e3">乗馬/下馬時に, 実際に乗馬/下馬した後の判定を先読みして可否を判定する ように変更. また, 落馬時にプレイヤーが入れる地形はMOVEがあるか, 壁で あってもプレイヤーが壊さず入れるのであれば許可することにした.</a></p>
</li>
<li>
<p>Sun Nov 23 12:42:41 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/74c519d9d8b81fe30ca0c88cb91cdc26b05aba13">次元の扉、コードを再変更。関数を2つ(+aux 1つ)に分けた。</a></p>
</li>
<li>
<p>Sun Nov 23 09:46:46 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3840da58f56a7138e4013cf2732ac644f6fa8f95">鏡使いが鏡以外の手段で次元の扉を使った場合でも鏡を使ったメッセージが 出ていたので, メッセージを分けた. また, 鏡の世界を通る場合の英文を少 し変更.</a></p>
</li>
<li>
<p>Sun Nov 23 09:30:47 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c4537ee9420bbadee62ff71f8780b9c315d4a8fd">開いた/壊れたドアの上にアイテムを置けるようにした. アイテムのある開い たドアは閉まらないようにした.</a></p>
</li>
<li>
<p>Sun Nov 23 07:26:26 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cbbeeaddd9525b007dfdfa346e1af8fec3237f05">隠しドアが透明な材質になることも考えて, 隠せる地形の判定を変更. 視線 の通る地形には視線を遮るドアを隠せないようにした. この判定が成り立つ 場合に, mimic地形にMOVEがない, つまりmimic地形が視線の通る壁である場 合は隠しドアをmimicで潰さないようにした.</a></p>
</li>
<li>
<p>Sun Nov 23 06:24:45 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9ca4f5493d35155ef8f7d1951e38492d07a2102f">変更し忘れ。 英語環境では setlocale()で"C"以外にならなくてもエラーを出さないようにする。</a></p>
</li>
<li>
<p>Sun Nov 23 05:55:42 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1ae8d9e1e28a9f6206f142b2074e192d007c3553">USE_FONTSETを英語環境でもデフォルトで有効にした。こうしておくと、日本語版と 同じ環境変数でもエラー無しに英語版を実行できるので。 また、main-x11.cの「_JP」をUSE_JP_FONTSTRUCTと改名。</a></p>
</li>
<li>
<p>Sun Nov 23 03:30:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5cd940c0a89c3ccb3bdc63df1458fbbf0585e90b">･ｪ･ﾗ･ｷ･逾靂ﾌ､ﾎ｡ﾖｲ靂ﾌｽﾐﾎﾏ｡ﾗ､ﾈ｡ﾖｸ昀ｨｲｽ｡ﾗ､ﾖ･ﾞ･ﾃ･ﾗｲ靂ﾌ｡ﾗ､ﾈ｡ﾖ･ﾆ･ｭ･ｹ･ﾈﾉｽｼｨ｡ﾗ､ﾋｺﾆﾊﾔﾀｮ､ｷ､ｿ｡｣</a></p>
</li>
<li>
<p>Sat Nov 22 20:30:18 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/82baa5be7b5535f3a7c8e7732170398d4770932e">カオス魔法 "虚無召来" での大部屋モード発動時に, 最初から起きている モンスターが "目を覚ました" メッセージが出るバグを修正.</a></p>
</li>
<li>
<p>Sat Nov 22 20:15:59 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f94bc0528c8ff046bdcba9d963d563b76e968077">ｰﾅｰﾇ､ﾎﾆｶｷ｢､ﾇ･ﾇ･ﾐ･ﾃ･ｰ･ｳ･ﾞ･ﾉ^A m､ﾈ､ﾃ､ﾆ､筵ﾕ･愠｢ﾁｴﾂﾎ､ﾎﾃﾏｿﾞ､ｬｼ霹ﾀ､ﾇ､ｭ ､ﾊ､､･ﾐ･ｰ､､ﾀｵ.</a></p>
</li>
<li>
<p>Sat Nov 22 19:55:10 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/24824505a56a73db0609c79be27e2c91d87f9ba0">branch-nothere-terrainflags､ﾞ｡ｼ･ｸ.</a></p>
</li>
<li>
<p>Sat Nov 22 19:16:33 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bdcfe777e847d4449fa93dd5a3f7a9b7e8e092ae">ムービー機能実装への準備。コード整理。</a></p>
</li>
<li>
<p>Sat Nov 22 13:07:19 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2a439a9e77a5ac913593cd9b9d4eb8974382ba67">Chaffinchの訳訂正。 ズオアオトリ→ズアオアトリ</a></p>
</li>
<li>
<p>Fri Nov 21 17:53:55 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/226f8229b2211fa140ba77a893c33adb93c99bb1">ランダムクエストで死んだキャラを"-w"で復活するのに失敗する場合があったので修正。</a></p>
</li>
<li>
<p>Fri Nov 21 17:53:02 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a120e8c85c06ef110d4bfa311fe415f29bf1d335">･ﾀ･ﾗ､ﾎｾ蟆ﾌ10ﾂﾎ､ﾎ･讌ﾋ｡ｼ･ｯ･筵ｹ･ｿ｡ｼﾉｽｼｨ､ｬ｡｢ｲｼｰﾌ10ﾂﾎ､ﾋ､ﾊ､ﾃ､ﾆ､､､ｿ･ﾐ･ｰｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Fri Nov 21 17:38:23 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d655fa27557874fd614213be338b92b07a173115">死亡キャラを生き返らせてウィザードモードに移行するオプション"-w"がちゃんと動くように修正。</a></p>
</li>
<li>
<p>Fri Nov 21 17:20:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4f11d1ff2d960b25b63a67fc7fd8f291b444b23b">帰還等でダンジョンに入った時、p_ptr&#8594;floor_idが初期化されていなかったバグ修正。 floor.cの仕様変更時に CFM_FIRST_FLOOR フラグが色々な所で必要な事を見落していた。</a></p>
</li>
<li>
<p>Fri Nov 21 16:47:01 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6f415b4e9619c44a25eef6b9502f5aaea2bf4c09">自動破壊の自動登録は[y/n/Auto]と聞かれた時に大文字のAを押さないと 反応しないようにした。^D - a y 等という風にアイテムのリスト中の 一番最初を選択しようとして間違って自動登録してしまうのを防ぐ為。</a></p>
</li>
<li>
<p>Sun Nov 16 14:42:06 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3b22f7e83db70bfd872dbdd5c280d34b3d1fc326">ホビットの「器用さ維持」を「経験値保持」に変更。</a></p>
</li>
<li>
<p>Sun Nov 16 13:18:22 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5a84119a099e7e7b21ff1517eb4e82c36a2631e8">exp_needのレベルup時に表示がリフレッシュされないバグを修正. 階が狭いときはアイテム生成を少なめに.</a></p>
</li>
<li>
<p>Sun Nov 16 11:48:59 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/253dd402a073d0a81e8b9454b3f3fde446f3d95d">グリフォンのマジックミサイルを射撃に変更。平均ダメージは一緒。</a></p>
</li>
<li>
<p>Sat Nov 15 18:53:39 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e994e221ccd60c16b57ac2ece2069c5cf39b83e2">auto_scumを完全に廃止. アイテムのレベルブースト確率を倍に.</a></p>
</li>
<li>
<p>Sat Nov 15 18:15:37 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8cc3d43c79bbc09588240bf405c30c0114b7587a">Iku_Seiso､ｵ､ﾎﾉｽｼｨ･ｪ･ﾗ･ｷ･逾ﾑ･ﾃ･ﾁ(･ｪ･ﾗ･ｷ･逾ｾexp_need)､｢､ﾆ､ﾆ, ･ﾐ･ｰ､隍ﾃ､ﾆ, ﾊｬﾎ爨ﾎﾊﾑｹｹ､ｷ､ｿ.</a></p>
</li>
<li>
<p>Sat Nov 15 15:43:33 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f54106a4ebf3ba01f53cc396b5d34fc6a4a30956">Hammer of hell ､ﾎﾀ篶ﾀ､ﾎｱﾑﾊｸﾄﾉｲﾃ｡｣</a></p>
</li>
<li>
<p>Sat Nov 15 13:49:30 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1ab80ab0611d63394a110af8ad3a3bf735f3ec47">『Fat Man』の代替として地獄の鉄槌を追加. 倒すと鈍器を落とす.</a></p>
</li>
<li>
<p>Sat Nov 15 10:09:08 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f25f69dd426abd4cfd8b4e46d4bcb1c8c40a8085">アイテムのスタック条件について少し仕様変更。矢等で擬似鑑定されたアイテムと 擬似鑑定されていないアイテムは重ならないようにした。 以前は重なったので、わざと「矢{並}」を持ち歩く事で(+0,+0)の矢が一瞬で 事実上鑑定できてしまう問題があった。</a></p>
</li>
<li>
<p>Sat Nov 15 09:53:50 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/73019dddad24aff6c0d251a9c64207b35556a4c8">充填中の魔法の笛が重なって充填量がリセットされてしまうバグ修正。</a></p>
</li>
<li>
<p>Fri Nov 14 00:44:44 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e8ca1b5f349074ce4517b1a5ac36354ed480dcde">･ｫ･鬘ｼ･ｿ･ｰﾊﾑｴｹ､ﾎ･ﾟ･ｹｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Thu Nov 13 06:18:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d102c8f07dd140d02ab9cdd620cbc9a5964575c8">ランダムテレポート時に、{.}と刻む方法をメッセージ表示するようにした。 手動で{%}と刻んだ時に依然としてテレポート抑止効果を付けていたコードを取り去った。 ヘルプの耐性自動刻みの項を修正。</a></p>
</li>
<li>
<p>Thu Nov 13 05:46:36 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2129fc1944a5097ef53d59e5060ac2eaf006a0f4">abbrev_extra, abbrev_all オプションによって{.}と刻まれているように 見えるにも関わらずランダムテレポートが抑制されない問題の対策として、 ランダムテレポートを抑制する自動刻み{.}は、耐性自動刻みの中には含め ないように仕様変更した。</a></p>
</li>
<li>
<p>Thu Nov 13 05:26:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bad11eb7590ec32e742c584e7aaa55661e7ee746">強力投擲のエゴ指輪を装備した時、忍者で鉄くさびを投げた時のダメージが微妙に 変化するが、持ち物サブウィンドウの表示がアップデートされなかったので修正。</a></p>
</li>
<li>
<p>Tue Nov 11 02:52:13 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a46f18a4d14120c9e9d6778c2a4cf9a19e080b7a">カラータグの書式変更。古い形式は「[[[[[ysome text]」という形だったが、 タグを閉じるのが「]」だけだと、「]」自体に色が付けられなくて不便なので、 「[[[[y@some text@」 という形で「@」の位置にどんな文字を置いてもカラータグだと解釈するようにした。</a></p>
</li>
<li>
<p>Tue Nov 11 01:54:38 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f7505003daa844094087044d845e1bcbd7146982">編集中のヘルプ。とりあえずcommit。</a></p>
</li>
<li>
<p>Thu Nov 6 05:47:15 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b0d6f1f08a3c4b652a5f43a45a32b751390a2300">「上位10体のユニーク」で、11体またはプレイヤーが表示されてしまうバグ修正。</a></p>
</li>
<li>
<p>Thu Nov 6 05:42:29 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4c127e8e60402f510b0c0e4161e8f8dff7414d22">ダンプにランダムクエスト数表示が残っていたので削除。</a></p>
</li>
<li>
<p>Wed Nov 5 12:52:01 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b500cb2f7d5c45d3e972029e22489e80d2a2927e">アイテムを破壊するコマンドで、数値の入力よりも[y/n/Auto]確認を先にするように変更。 数値指定を事前に 099^D 等でやっていると確認無しに破壊する仕様はそのまま。</a></p>
</li>
<li>
<p>Wed Nov 5 11:47:29 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e6e77f808d09734f6f0092592b36038ca4e4d27e">全体マップ&#8217;M&#8217;内で、アイテムの外見(flavor)を隠すようにした。巻物の名前がちゃんと読める。</a></p>
</li>
<li>
<p>Wed Nov 5 10:15:45 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/56ae7e32ecb8ac689b1e29a6069012c3fc10ff21">object_desc()のコードを書き直し。u32b modeでビットフラグ OD_* を与えて呼び出すようにした。以下の変更を含む。</a></p>
</li>
<li>
<p>Tue Nov 4 23:36:23 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/78f0f93f15be66cb9795c44c01d42b3f44ac8d58">店で売られることのない固定アーティファクトに対して複数販売されないよ うにするコードになっていたので, ☆用に再修正.</a></p>
</li>
<li>
<p>Tue Nov 4 17:12:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/10139f1639a4b7fffc8dcd77d42efdbe0cfb68b0">反テレポの付いた非常に安い☆が複数店に売っている事があるバグ修正。 mass_produce()で☆は複数にしない条件を付けた。</a></p>
</li>
<li>
<p>Tue Nov 4 16:35:09 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a026e51894bfc33584b8dea89f47a2e67c569cc5">未使用変数削除忘れ。</a></p>
</li>
<li>
<p>Tue Nov 4 16:30:54 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ccbcacc5211b2b6e6f485d27418c4f115701802b">abbrev_extraやabbrev_allを使用中に、店の中で自動耐性刻みが発動すると割り引き率の表示を隠してしまうバグ修正。(店の外では隠すのが仕様)</a></p>
</li>
<li>
<p>Tue Nov 4 10:16:58 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/fdca7d9f1e7243735c8843eed6175668f56a33f8">「KEY_?」 や、「MN_?」のマクロ定義をやめて static char KEY_?[] = ? という文字列配列の定義にした。MPWで特別扱いをせずに済むはず。</a></p>
</li>
<li>
<p>Tue Nov 4 09:39:33 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/35d007e4bb6f5b913539984de41c4724af5f5089">ｱﾑﾊｸ､ﾎﾊｸﾋ｡･ﾟ･ｹﾄ釥ｵ｡｣</a></p>
</li>
<li>
<p>Tue Nov 4 08:31:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f85934fb0e5d55672acd50b4ecbd4287bc663366">picktype.prfをまだ書いていない時に、自動拾いエディタを起動するとデフォ ルトの設定を読み込むが、そのまま^Qで終了すると今見えていた設定が適用も セーブもされないという状態だった。すぐに書き込むように修正。 また、その時にデフォルト設定を書き込んだ旨の説明が出るようにした。</a></p>
</li>
<li>
<p>Tue Nov 4 06:52:19 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3e7b63388250f8d0bd0c67752c3be75a8db0760e">未使用変数削除。</a></p>
</li>
<li>
<p>Tue Nov 4 06:45:46 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/31025cdb2164ba215a5c01663453f6318d49ae2c">自動拾い関係の関数の名前を統一的に改名。全て「autopick」のキーワードを含むようにした。 また、picktype.prfを読み込む処理をautopick.c内の関数にまとめた。</a></p>
</li>
<li>
<p>Mon Nov 3 08:54:27 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9c08a4865a38f5f618b691627ccc02f6268bb2a0">DELETE･ｭ｡ｼｼｫﾂﾎ､ﾎﾆｰｺ釥ｬ｡｢ﾀ霪ﾎ･ﾐ･ｰ､ﾃ､ｿBACKSPACE､ﾎ･ｳ｡ｼ･ﾉ､ﾋｰﾍﾂｸ､ｷ､ﾆ､､､ﾆ｡｢ﾆｰ､ｫ､ﾊ､ｯ､ﾊ､ﾃ､ﾆ､､､ｿ､ﾎ､ﾇｺﾆｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Mon Nov 3 08:48:55 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8fdb082f31a0c3ec9a189753073bf1282ff7945a">行末より右にカーソルがある時にBACKSPACEキーを押すとDELETEキーの動作を してしまうバグ修正。BACKSPACEキーの動作に、一部DELETEキー用のコードが混っていた。</a></p>
</li>
<li>
<p>Mon Nov 3 07:04:22 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e20f31457be50f08aadeda0b4adfabcfd052d33d">TV_EQUIP_BEGIN, TV_EQUIP_END を定義する時に、 「装備できるアイテム」の条件と、矢玉も含めた装備品の条件とを混同してしまっていたので、 新たにTV_WEARABLE_BEGIN, TV_WEARABLE_ENDを作ってちゃんと分けた。</a></p>
</li>
<li>
<p>Sun Nov 2 19:27:41 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d6ba7ec1669843964ee7fe360b66499a27cb8f28">キーワード「得意武器」で、射撃武器がマッチしてしまっていたバグ修正。</a></p>
</li>
<li>
<p>Sun Nov 2 14:30:23 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/87ed181ea5e8558e607bd08e4d2f169b9b28a629">･鬣ﾀ･爭ｯ･ｨ･ｹ･ﾈｿｪﾂ｡ﾇｽﾇﾑｻﾟ｡｣10ｸﾄ､ﾇｸﾇﾄ遙｣</a></p>
</li>
<li>
<p>Sun Nov 2 08:28:41 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2e24eeb1f56910a87fedac78e5517149907b9249">･ﾆ･ｭ｡ｼ､ﾎ｡ﾖ5｡ﾗ､ﾎﾀﾟﾄ熙ｬﾈｴ､ｱ､ﾆ､､､ｿ､ﾎ､ﾇﾄﾉｲﾃ｡｣</a></p>
</li>
<li>
<p>Sun Nov 2 08:06:06 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e714a37ab8ee139eade68a3e35d2dfeebe4b925f">askfor_aux()で数値入力をする時は、テンキーは常に数字を入力するように修正。</a></p>
</li>
<li>
<p>Sun Nov 2 02:52:12 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f532e68665ea8ed1eaa701cc0bc58ce6c37c06d5">ヘルプの使い方のページ、色を使って読み易く書き直した。</a></p>
</li>
<li>
<p>Sun Nov 2 02:51:38 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/addc67919bd6293343433afbe867a8f88f294012">自動拾い関係、ヘルプとサンプル設定を大幅に変更/更新。</a></p>
</li>
<li>
<p>Sat Nov 1 23:33:31 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4563c5f579efe066b7b2d1e6a0fc87f47ab6f051">show_file()で、色付けタグ"[[[[[?]" と強調表示(検索時と'='コマンド) とがコンフリクトして、表示がおかしくなっていたので修正。 その過程で、全行に色を付けるタグ"<mark>#</mark>"は廃止。部分文字列に色を付ける"[[[[[?]"で十分。 また、強調表示コマンド'='で大文字の文字列を入力すると、検出に失敗するバグ修正。</a></p>
</li>
<li>
<p>Sat Nov 1 17:26:24 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6d9ad10a9844ad094d12c2cef5e6033a91aa019b">盗賊ギルドの「分け前」の仕様を廃止。</a></p>
</li>
<li>
<p>Sat Nov 1 17:07:30 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ee4c6c456cdf7b9901d0b43febd2ae1e90162cf8">numpad_as_cursorkey ､ﾎﾀ篶ﾀﾊｸ､､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Sat Nov 1 12:58:37 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1acaaf2019ba0ace7f39a6d051c9ffbc309d2cd7">numpad_as_cursorkey のデフォルト設定と説明書き追加。</a></p>
</li>
<li>
<p>Sat Nov 1 11:28:07 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/71f1e3b0cf82499118b0a57e091af1e16ed19c83">オプション用変数のリストが古い分類形式のまま放ってあったので、 新しい分類形式に揃えた。</a></p>
</li>
<li>
<p>Sat Nov 1 11:20:24 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f878ba933af344f06b91b67488ae6fdcef2c5c7e">オプション numpad_as_cursorkey を追加。 自動拾いエディタ及び文字列入力中にテンキーを押すとカーソルキーとして扱う。 Noにすると、数値を入力する。</a></p>
</li>
<li>
<p>Sat Nov 1 10:07:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3e39e7d7c98ee096192aabf9f9d40839c56e5d25">カーソル移動サブメニュー内に、"(←矢印キー)"等の説明書きを追加。</a></p>
</li>
<li>
<p>Fri Oct 31 21:43:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/058ab143acb924f837863f402e5fd36fec2ab131">EQU演算子の仕様変更。 [EQU $CLASS Mage High-Mage] 等と書いて引数に並べた文字列のどれかが等しければ真を返すようにした。 昔からあったアイディアだけれどエンバグが恐いから放ってあった。</a></p>
</li>
<li>
<p>Fri Oct 31 18:12:15 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/00d9d9e64b4d51d7e6946be8d2861a1f800debf3">新キーワード「死体と骨」追加。ガラクタの骨にもマッチする。 また、「無銘の」から銘が刻んでない事という条件をはずした。 「無銘の」は危険なキーワードなので少し制限を付けていたのだが、 既にあまり意味が無い上に自動破壊の自動登録と相性が悪い。</a></p>
</li>
<li>
<p>Fri Oct 31 17:59:38 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3856ff5f82665a83b71b1ee5c7d19de1e6390246">自動拾いエディタのアイテムで検索する機能のコードがちゃんと inkey_special() によるエディットに対応していなかったので修正。 また、空白文字列で検索しようとした時のエラーメッセージが出なくなって いたので出るようにした。</a></p>
</li>
<li>
<p>Fri Oct 31 16:25:27 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ca0d39f02b73ad9ca0b205e6215c8c1fcbd7ca0c">ヘルプ表示中に ^Q も終了キーとして受け付ける。 自動拾いエディタ中からヘルプを見ている時、つい間違って^Qで終了しようとしてしまう為。</a></p>
</li>
<li>
<p>Fri Oct 31 16:06:54 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9ad4405e36ef259d3ffa7d8c76969bb7dfc388ce">自動拾いエディタでX11のマウスによる複数行のペーストが出来なくなっていた。 ASCIIキャラクターのマクロをキャンセルするのに flush() を使っているのがそもそもの問題なので、 新しい関数 forget_macro_action() を定義して修正。</a></p>
</li>
<li>
<p>Fri Oct 31 14:57:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c93bb659e264511b4f2d911d157e48efffb1e4bb">show_file()で、"<mark>#</mark>"の後にアルファベット以外の文字がある時には、カラータグと見做さないように修正。</a></p>
</li>
<li>
<p>Thu Oct 30 02:48:40 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a4a5d3073a08c440a83961fe191f4f57ed1807f6">新キーワード「レアな」と「ありふれた」を追加。ドラゴン装備等の特別なベースアイテムを識別する。</a></p>
</li>
<li>
<p>Thu Oct 30 02:47:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b4891cd1879f17b9961ef7164948d6c9050d7cfe">AF_TILE1の位置が間違っていて英語版がコンパイルできなかった。</a></p>
</li>
<li>
<p>Wed Oct 29 07:35:20 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/60209ad640cb34f49a843423ce1ffaec7e3abf09">スコアサーバーのURL等を定義するマクロをdefines.hからreport.cに移動。</a></p>
</li>
<li>
<p>Wed Oct 29 07:34:07 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/273b067d4903f6468a003831c8fb065178a945f0">tabｰﾌﾃﾖｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Mon Oct 27 20:31:46 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/690aba79b62dabb4d5b9f5159bbf8efdad99fdfb">- {上質以上}の擬似鑑定済みのアイテムを自動破壊に自動登録できなかったので修正。 - 自動登録で、可能な限り「^」を付けるようにした。メイスと鉛詰めメイスを区別できる。 - 一部変なマクロ名修正。</a></p>
</li>
<li>
<p>Mon Oct 27 20:16:01 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b1001359f0732086c03b0eb2e313634e0113364e">typo #end &#8594; #endif</a></p>
</li>
<li>
<p>Mon Oct 27 18:52:26 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3b4f505aa9d83875e56efa363fe042d22af0a468">ボロミアのアミュレットの発動の未訳。</a></p>
</li>
<li>
<p>Mon Oct 27 18:37:51 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3b769eef08cc8c871fe5fee44537df81d51e82fa">MPWで'\r&#8217;と'\n&#8217;が逆転しているのを元に戻すコードで、#ifdef MPW とするのをやめて、 #if ('\r' == 0x0a &amp;&amp; '\n' == 0x0d) とした。-noMapCRが付いていても付いていなくても対応できる。</a></p>
</li>
<li>
<p>Mon Oct 27 13:54:56 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/107b4822ac454e7a81a1063f8fb3a39f43f0a67c">テンキーの数字以外のキーでちゃんと文字を入力できるようにマクロを追加。</a></p>
</li>
<li>
<p>Mon Oct 27 11:56:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/76cac7524c4a0e6660694d6f2225eea9bf550e51">editor.hlp､ﾇ､ﾏ､ﾊ､ｯ｡｢editor.txt</a></p>
</li>
<li>
<p>Mon Oct 27 11:55:26 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1ca067bbf2b08f633be9049ef634d3b6a700e4b2">自動拾い/破壊のヘルプへのリンクを最初のページに追加。 自動拾いエディタを開くコマンド(_)の説明修正。</a></p>
</li>
<li>
<p>Mon Oct 27 06:26:43 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/fe14e6661b4ba7574afbc0d6f99d369cce50e5b2">･ｳ･皈ﾈｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Fri Oct 24 21:28:15 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7bb33e990892c95abc26e97e12cdef32c73208b9">まだ、bigtile_attr()を使ったコード整理すらしていない部分があったので、 これを Term_queue_bigchar()とTerm_add_bigch()を使って書いた。</a></p>
</li>
<li>
<p>Fri Oct 24 21:25:32 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/752ec8b45db4601378a4131da4ce656fe906d5be">再びエンバグ修正。タイルの1byte目を表す 0x80 と Bigtile の2byte目を表 すフラグと間違えていた。 #define AF_TILE1 0x80 と定義して使うようにしたので、今後は間違えづらいと思う。</a></p>
</li>
<li>
<p>Fri Oct 24 20:28:09 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/39539b17ff6873102538f407b479313c1996b799">タイルモードでauto_moreがNoの時、死んだ直後のスコア送信用の スクリーンショット作成時にASCII文字画面が見えてしまうバグ修正。</a></p>
</li>
<li>
<p>Fri Oct 24 17:45:50 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a2fd257eabdf01c3a48aefd2a4c20e73db88f23a">自動拾いエディタのオンラインヘルプ丁寧に書いた。 書き下ろしなのでshow_file()の色設定機能を活用した。</a></p>
</li>
<li>
<p>Fri Oct 24 16:46:25 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/33648e723c7107e5bc0d7135ace8533889e6c383">変更履歴を自動で更新して http://hengband.sourceforge.jp/Changelogs.txt で公開する事にしたので、CVS上からは削除。</a></p>
</li>
<li>
<p>Fri Oct 24 10:57:57 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a4043f3b88064084237a0019b669d1ca75e94d54">ワーニング除去と、エンバグ修正。</a></p>
</li>
<li>
<p>Fri Oct 24 10:38:13 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/face4db503cfe66fa827d841f424892ab187c362">bigtile_attr()を廃止して、Term_queue_char()のbigtile版関数 Term_queue_bigchar()を作ってコード整理。今まで設計が滅茶苦茶な面があり Bigtileの印を付けるコードと読み出すコードが矛盾していたり、トラップ感 知直後に全角ASCII文字のトラップの上にカーソルを乗せると文字化けするバ グが残っていたが、一緒に修正した。</a></p>
</li>
<li>
<p>Fri Oct 24 10:33:10 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d3e5fbb18f4acd7d52fddfe9d252a4e8102da845">USE_TRANSPARENCYﾇﾑｻﾟ､ﾋﾈｼ､ﾊ､ﾃ､ﾆｹｹｿｷ｡｣</a></p>
</li>
<li>
<p>Fri Oct 24 08:21:19 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a0a749e041ae0f5deab81c5eb3ff5e44ddaf7c14">#ifdef USE_TRANSPARENCY をデフォルトで固定。 bigtileの問題点を修正しようとしたら、あまりにもこの場合分けが邪魔だった為。 vanillaではとっくに廃止されている。</a></p>
</li>
<li>
<p>Fri Oct 24 07:44:11 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5240a271a2dac0808d8abbe19202b3851136d2d0">new_ascii_graphics が No の時、Adam Boltタイル使用時の坑道等に対して ASCII文字なのにタイルの光源効果のコードが実行されて文字化けしていたバグ修正。 光源効果が使えるかどうかは</a></p>
</li>
<li>
<p>Fri Oct 24 05:56:29 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a9bde4b36963a1423e76f42302c69b74019dbcd1">prfファイル内の「%:&lt;file名&gt;」で別ファイルを読み込む時、再帰的に自分を 読み込む設定が書かれているとループが半永久的に続く問題点を修正。 20段以降は読み込まないようにした。</a></p>
</li>
<li>
<p>Fri Oct 24 05:12:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c85f763a3cbadf5a21e585733949744dbf0b1024">自動破壊の自動登録で、アーティファクトとわかっているアイテムまでも登録してしまっていたのを修正。</a></p>
</li>
<li>
<p>Fri Oct 24 04:05:17 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/047e96cbb1c784a1b034fe8477ad1590e19d9a44">レベルアップ時に PW_INVEN フラグが付加されていなかった為、 サブウィンドウの矢の平均ダメージ表示がアップデートされていなかったバグ修正。</a></p>
</li>
<li>
<p>Thu Oct 23 19:11:37 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/fbfcdea2db32079cbbaafe81a41f905612f0d19c">strstr()とstrchr()は、my_strstr()とmy_strchr()で全て置き換えたので 間違ってstrstr()等を使ってしまう自体を出来るだけ避ける為に、 これらの関数をサポートする為の定義を削除。</a></p>
</li>
<li>
<p>Thu Oct 23 18:57:43 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1ee5945960f7203771cf34da886bff726f06edfd">show_file()の中で画面をスクロールすると文字化けが起る事があるバグ修正。</a></p>
</li>
<li>
<p>Thu Oct 23 17:59:23 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cad0bdde8d3ee66f8d37fb1b04f7a8237c6e3800">strchr_j()を英語版の含めて、my_strchr()にまとめた。strstr_j()についても同じく。</a></p>
</li>
<li>
<p>Thu Oct 23 17:22:11 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1a6070b9827afc7b944e2b247ed88950fb93d674">safe_setuid_grab();の呼び出しを忘れていた所を修正。 ./configure --with-setgid=games でコンパイル時にセーブが不可能になっていた。</a></p>
</li>
<li>
<p>Thu Oct 23 16:23:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/788d94118353082a107fd95f2cffb452bbf4deb9">Revision 1.107 で auto_pickup_items() 内でエンバグしていたので修正。本来のカプセル化の変更とは無関係なコード整理をしようとしてエンバグしていた。</a></p>
</li>
<li>
<p>Thu Oct 23 13:56:03 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4998c1c1acc762c75e4aa0ea06cfcb436aa6e70f">inkey_special()にバグがあり、main-x11.cのマウスによるペースト機能が、ASCII文字を含む文字列に対して動かなかったので修正。</a></p>
</li>
<li>
<p>Thu Oct 23 08:39:38 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e6f974b6becd3a5b97d6f6c1f16a744ab9f5d05d">壁モンスター(たぶん動かない増殖するモンスター全て)が あやしい影 になっている時、 増殖した直後に # の姿が見えていたバグ修正。</a></p>
</li>
<li>
<p>Thu Oct 23 07:46:07 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e0771f5b72d2c328326af4e000a97e6a6766755f">スコア改訂に供えて、キャラクターダンプに倒したユニークモンスター上位10体を表示。 また、巨大な関数 make_character_dump() を多数のサブ関数に再編成して、 各種のダンプの順番を再検討して入れ変えた。</a></p>
</li>
<li>
<p>Wed Oct 22 16:49:17 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d6a4d44778efd8440526b0e3a91bea300a11256a">複数行を選択して各種コマンドを実行する時、Emacsの動作を真似る事に 意味が無い事に気付いたので仕様変更。複数行を選択した時は必ず行単位で選択し、 ある行の後半と次の行の前半を選択…というな事態は起きないようにした。</a></p>
</li>
<li>
<p>Wed Oct 22 14:19:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7a122e7c2d529546b2334406ded417415e33e626">自動破壊の自動登録が、アルファベットを小文字に統一し忘れていて英語版で正しく動作していなかったので修正。</a></p>
</li>
<li>
<p>Wed Oct 22 13:41:20 2003 +0000: (macband) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/184c472c9f84f9837c529c44a9ae6b2309d5c992">MPW､ﾇ､ﾎ･ｳ･ﾑ･､･鬣ｨ･鬘ｼﾈｱ</a></p>
</li>
<li>
<p>Wed Oct 22 13:25:55 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/dd0a5556b759de47ec738272503af6d997328b29">一度も自動破壊されてない時に、メニューから「自動破壊されたアイテムで検索」を選んだ時、エラーメッセージが出るように修正。</a></p>
</li>
<li>
<p>Wed Oct 22 12:56:18 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/69f5b57d9cb77c8d483b5dc1fce9b076a29d35e0">値が偽の条件分岐式は無効状態として扱っているが、文字列検索時にはスキップしないように変更。</a></p>
</li>
<li>
<p>Wed Oct 22 12:53:56 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cf53a6b95422aee15e765eaacb6de585290fa9e8">演算子 GEQとLEQ の仕様を変更。文字列としてではなく数値として比較するようにした。 例えば、"12" &gt; "3"という事。</a></p>
</li>
<li>
<p>Wed Oct 22 12:48:32 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e0f9e41328a21145ea4db0b5ee4a5f99f4c89fa7">自動拾いエディタの検索機能で無効状態の行も検索できるようにした。 有効状態の行を優先的に発見し、先に見付かった無効状態の行を無視した場合には メッセージ欄に表示する。</a></p>
</li>
<li>
<p>Wed Oct 22 11:11:24 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/979288aba5af9591c41490ec61b25e99349c3049">autopick.cの関数を外部から呼ぶ部分を簡略化。なるべくカプセル化する。</a></p>
</li>
<li>
<p>Tue Oct 21 14:27:29 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/45069e918cce189334ace362d3fd8fa3fabad5d9">文字列入力時に文字列の最後で^Dなどでの削除を使うと, 文字列終端のすぐ 右のゴミを文字列終端にコピーしていたバグを修正.</a></p>
</li>
<li>
<p>Tue Oct 21 14:08:23 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c7ea8339c8ea991f9fd4b7dd687dbd9573f0b9d0">自動拾いエディタの検索モード時に, 日本語の文字列に対してカーソルを左 移動させると1byteだけカーソルが移動して, 漢字の右バイトだけ壊すような 操作ができるバグを修正.</a></p>
</li>
<li>
<p>Tue Oct 21 13:39:05 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8e499f128a3bd82506d60ae05f453f93ff2eea28">size_t､ﾈ､ﾃ､ﾆｷﾙｹｬｽﾐ､ﾆ､､､ｿﾉｬ､nt､ﾋｽ､ﾀｵ.</a></p>
</li>
<li>
<p>Tue Oct 21 13:31:37 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3299ee0894526f3564ee43a4b83e07b10732592e">util.c 1.50 の askfor_aux() の修正(左カーソル移動とバックスペース)をautopick.cの検索文字列入力のコードに適用するを忘れていたので今適用。</a></p>
</li>
<li>
<p>Mon Oct 20 18:39:02 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4991bcd094710408cc569703d9a8bb4bf429f1a5">ラッキーマンでカオスの塔の突然変異治療をすると固まるバグを、その場しのぎで修正。</a></p>
</li>
<li>
<p>Mon Oct 20 15:09:05 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d06906cf20e1478277f75450bef8f4cbe74c1c31">auto_scum廃止に向けて, アイテム生成, ピット, ネストを調整.</a></p>
</li>
<li>
<p>Mon Oct 20 14:15:26 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/afddb17f1c4c3959fdfe59130ff2727b07e4600f">反攻撃のダンジョン等の最浅階が1階より深いダンジョンに最初に入った時、階段スカムを封じる為にランダムなアイテムを落さないようにしていたが、これを1階相当のレベルのアイテムを落すように変更。</a></p>
</li>
<li>
<p>Mon Oct 20 13:41:01 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/828fd4e44d060ecf90dab07feacfde8c3881bb3d">階生成をauto_scumなし向けに調整し直し.</a></p>
</li>
<li>
<p>Mon Oct 20 13:19:39 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3327f5fda0836968fe27f1c301c84506c510fc59">ｳｬﾀｸﾀｮｺﾆﾄｴﾀｰ.</a></p>
</li>
<li>
<p>Mon Oct 20 13:16:24 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9e1fd0dc756dbb172a048a83efb09762bfddee77">ｳｬﾀｸﾀｮ､ﾎ･ﾑ･鬣癸ｼ･ｿﾄｴﾀｰ.</a></p>
</li>
<li>
<p>Mon Oct 20 12:54:03 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/433ab4e97181d886812231de754db37d3ff933c7">inkey_special()でテンキーは特別扱いしない(数値入力で固定する)ようにした。</a></p>
</li>
<li>
<p>Mon Oct 20 11:39:17 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/fa1f83efc2be0edf6b9809e1dea0efd82211477a">・生い立ちオートローラーで年齢の範囲も指定できるようにした。 ・カオスパトロンの決定に年齢と社会的地位を使用する get_chaos_patron() は   実は古いZAngbandからのコンバート時しか使わなかったので廃止。 ・histpref.prfの読み込み用のバッファはスタックから用意するようにした。 ・石仮面と自己変容の種族変更コードを関数化。 ・身長体重を決めるコードを関数化。</a></p>
</li>
<li>
<p>Mon Oct 20 11:31:47 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1b3ade5a5c28aa7e854fa404b08146a93288a85f">鑑定済みのアーティファクトを破壊しようとして出来なかった時に{特別製}と銘が付かないようにした。</a></p>
</li>
<li>
<p>Mon Oct 20 11:29:48 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/66c06ca706849dd50828b39b77622bac7503d55e">自動破壊の自動登録の仕様調整。 (鑑定済みの)エゴ装飾品を自動登録した時ベースアイテム名を省略しないように変更。 {高級品}と擬似鑑定されたアイテムを自動登録するとキーワード「エゴ」を付ける。 それに対応して、キーワード「エゴ」は{高級品}と擬似鑑定されたアイテムにもマッチ するように変更。</a></p>
</li>
<li>
<p>Mon Oct 20 11:22:16 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/67f3f1150b6460a6d7313592c760e6457da705da">日本語を含む char型変数X から int型 へ変換する時、Paranoid的に  (0xff &amp; (int)X) と書いていた所を (int)((unsigned char)X) と書き直した。</a></p>
</li>
<li>
<p>Mon Oct 20 11:08:54 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3938ad8f0b94c6dc23881ed25df6663df1a691ce">画面写真dump.txtの表示'('コマンドで、ウィンドウサイズを拡大していてもちゃんと表示するように修正。また、photo_fgets()は廃止して、直接fgets()を使うようにした。</a></p>
</li>
<li>
<p>Mon Oct 20 11:02:22 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/976dc2add53e1a1f1104fb5677a2fc9119a02866">main-mac-carbon.cの削除に対応。</a></p>
</li>
<li>
<p>Sat Oct 18 18:27:26 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9cf441121f587fe44f4ce23544704fc463782160">モンスター詳細スポイラー出力でランダムクエストのクエスターに[Q]が表記 されないように変更.</a></p>
</li>
<li>
<p>Sat Oct 18 15:47:48 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e2765716293d63ca7962d8dd3b1709f9f196de18">NO_CAVEダンジョン(城)では廊下に岩石を出さないように変更.</a></p>
</li>
<li>
<p>Sat Oct 18 10:47:11 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0799708880fbd11a6a9a8ed42f6cf726edd0fe7e">askfor_aux()やget_string()などのように文字列入力する場合はテンキーは カーソル扱いではなく数値入力できるように変更. inkey_special()の引数で テンキーの扱いを変えるようにした.</a></p>
</li>
<li>
<p>Fri Oct 17 08:56:55 2003 +0000: (macband) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e75aaee5bb577281a479e48a4f0766b7491ed158">Classicﾍﾑ､ﾋｽ､ﾀｵ</a></p>
</li>
<li>
<p>Thu Oct 16 19:03:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1c53c4993c873e8ca12a445991fa65e17d7a47d1">城のダンジョン(NO_CAVE)で、部屋の配置法を変更。find_space()内で配置位置の候補の中から常に真ん中の1つを選ぶ事で、フロアがかなり秩序立った配置になるようにした。(通常は候補の中からランダムに選ぶ。)</a></p>
</li>
<li>
<p>Thu Oct 16 18:15:24 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2a41c9428cd1e996df76f4d48c1c3093f90c77af">「あなたはかつて?だった。」の記録をする所で、「p_ptr&#8594;old_race2 |= 」とすべき場所で、「p_ptr&#8594;old_race2 = 」になっていたバグ修正。</a></p>
</li>
<li>
<p>Thu Oct 16 17:37:36 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5fce67e3ffbaae71ab3f349c652798a978f0bca8">プレイ記録を見る時、スペースキーと'-'キーの役割の上下が反転するが、PgDownとPgUpも一緒に反転してしまっていたので、反転しないように修正。</a></p>
</li>
<li>
<p>Thu Oct 16 17:31:31 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ef78b9698da42ffc2531c64d19eb74021d8c9da4">メッセージ履歴でもHome,End,PgUp,PgDownを使えるようにした。 また、スクロールしても画面がチラチラしないようにした。</a></p>
</li>
<li>
<p>Thu Oct 16 16:22:38 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/37a514f5fd680d6e41c9a37010d92c66d2a9c1c3">inkey_special()でテンキーの KP_1 等を認識できるようにする為、 main-mac.cで使われていたテンキー専用の内部コード("^^1"等)を使わないように仕様変更。</a></p>
</li>
<li>
<p>Thu Oct 16 16:18:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0ea1f8a1b9ffa29ced1598a5ee0d8f4d4dad05b3">main-mac-carbon.c の内容は main-mac.c にコピーしたので、こちらは削除。</a></p>
</li>
<li>
<p>Thu Oct 16 16:17:13 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f52b9d4be3794665acd09937472a1e5dd3a66ed4">main-mac-carbon.c revision 1.11 をmain-mac.cにコピー。 carbon用とclassic用のソースは統一されている(はずな)ので、今後はmain-mac.cのみを使う。</a></p>
</li>
<li>
<p>Wed Oct 15 14:39:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8dce94ddbd1ea4c0cdc23bdd7528af4ecd50f3fa">cave_empty_bold2()内での比較と同じことを2重に比較する部分の削除.</a></p>
</li>
<li>
<p>Mon Oct 13 22:56:51 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cea171fe983abdd5a9205c0eec6c4314394c943c">一部ユニークや下級ワイアームの英語名をキャピタライズ. 準ユニークは キャピタライズされていたりされていなかったりしたので, する方に統一. また, ユニークの名前の途中で先頭が大文字のTheがある場合はtheに修正.</a></p>
</li>
<li>
<p>Mon Oct 13 11:24:15 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a9750be731c545789dda2c23b878ab075dd20a08">files.c 1.140 ､ﾎｽ､ﾀｵ､ﾏｸ｡ｺ｡ﾇｽ､ﾈ､ﾃ､ｿ､ﾈ､ｭ､ﾋﾌ萃熙ｬ､｢､ﾃ､ｿ､ﾎ､ﾇ｡｢ｺﾆｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Mon Oct 13 07:17:39 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/da1a98931b8fe08efe7fcbe8117b0a58780b2f8d">askfor_aux()にて、漢字を含む文字列を編集中。左カーソル移動とバックスペースがバグっていたので修正。</a></p>
</li>
<li>
<p>Mon Oct 13 06:55:11 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e359130d7c141e7d0f5279deb62acbde5b5c290e">unsigned charの取り扱いのミスで、inkey_special()が漢字入力に対応していなかったので修正。</a></p>
</li>
<li>
<p>Mon Oct 13 06:53:43 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/492111e19549e31267d697757d9059c6facd9796">画面をスクロールして end of file よりも下まで表示した時、画面のアップデートに不備があって以前の表示内容が残っていたので修正。</a></p>
</li>
<li>
<p>Mon Oct 13 06:01:12 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5803543f57ecac1e53f971e5a4514b9a8e61f78d">ヘルプ表示中にカーソルでスクロールすると画面がチラチラしていたのを修正。また、色付き文字を表示するタグが不正だった時に配列外アクセスをしてしまうバグを修正。</a></p>
</li>
<li>
<p>Mon Oct 13 05:00:30 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2e2da865edf01277047e44cfbcf82ede80eedf0a">ヘルプファイルの表示にもカーソルキーを(それとPageUp/PageDown/Home/Endも)使えるようにした。</a></p>
</li>
<li>
<p>Mon Oct 13 04:26:14 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/052c8f5451f51cf989f4e19edbf9c7faf7ab49f0">abbrev_extra と abbrev_all のヘルプ追加。</a></p>
</li>
<li>
<p>Mon Oct 13 02:18:46 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9dead93de998d3f7bba53a79da2560c803a9d498">文字列入力中に、挿入モードへ移行する条件を微調整。deleteやbackspace等を押した時も移行。</a></p>
</li>
<li>
<p>Mon Oct 13 01:48:59 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6eec961a6848be1e1ce5d7e73f0fc73fcd9a9792">半角カタカナの判定に unsigned charでも signed char でも正しく動くiskana()を使用。</a></p>
</li>
<li>
<p>Mon Oct 13 01:39:48 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f93b2732500d8d5a1b2236b0ae61d02fd9f61c22">自動拾いエディタで使っていたカーソル移動キーを読み取るHackを一般化して、 関数inkey_special()にまとめて、通常の文字列入力と生い立ち入力に応用した。</a></p>
</li>
<li>
<p>Mon Oct 13 00:17:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/409567277532fb33957169f2eeb70538138f8ca3">'C&#8217;でのステータス表示での "カオスランク", "アンバー [%d]" は非常に分 かりにくいため, 他バリアントにならい "英雄的", "伝説的[%d]" と変更. 英語版で "Legendary[%d]" がはみ出さないように画面構成を微調整.</a></p>
</li>
<li>
<p>Sun Oct 12 14:59:44 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/40d9e104d21df9c2d538657ad821d2e5fe59e238">常にdungeon_alignする仕様に戻した.</a></p>
</li>
<li>
<p>Sun Oct 12 01:31:06 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a6cc590c4c2d8d6daa73d0db55c57b13c581fdc6">デバッグコマンドでの指定モンスター召喚で, 森の中に召喚ができなかった バグを修正.</a></p>
</li>
<li>
<p>Sat Oct 11 10:32:38 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/07e717c6802cd06851999e68a7adffa91ce59c15">遠く離れたモンスター同士の戦闘で倒れた暁の戦士が, その戦闘とは無関係 なプレイヤーの目の前のみに復活していたバグを修正.</a></p>
</li>
<li>
<p>Sat Oct 11 06:54:48 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ea187036acd2f9c7394816d358f16d104f96f561">特定モンスターが落とす特定文字限定のアイテムの処理などでmake_object() の前にget_obj_num_prep()を呼んでいた部分を整理し, make_object()内部の みでテーブル処理も行うように変更. get_obj_num_prep()はobject2.cでしか 使われなくなったため, staticにした.</a></p>
</li>
<li>
<p>Sat Oct 11 06:06:49 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/455be74636248817bf5027d082322b02547ebb1e">グリッドのfeatまたはmimicからf_info[]で定義されたmimicを取得する処理 をマクロとしてまとめた.</a></p>
</li>
<li>
<p>Sat Oct 11 05:23:31 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4b4241fc4c196cc040eee0a3b10a33dd18655d16">FEAT_WALL_INVISは存在しないため, place_invis_wall()を削除.</a></p>
</li>
<li>
<p>Sat Oct 11 03:25:35 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/94d7049a5fb95cafeb8183ab3bb047a9e98b2538">"FEAT_UNDETECTD" &#8594; "FEAT_UNDETECTED".</a></p>
</li>
<li>
<p>Wed Oct 8 23:16:41 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6d08c584cc42e4841b45593f92b7a6d62b42b1da">カーソルキーにマクロを定義していても自動拾いエディタ中でカーソル移動に使えるようにした。その他、Home, End, PageUp, PageDown等も使えるようになった。</a></p>
</li>
<li>
<p>Wed Oct 8 21:54:11 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5c1c6c7a961685b5caf95b98cf307e55c6612c96">時止めを使うモンスターがプレイヤーのオーラで死んだ時に時止めをキャンセ ルするコードがいいかげんだった為、光の剣等で関係無いモンスターが死んだ 時にも時止めがキャンセルされていたバグ修正。</a></p>
</li>
<li>
<p>Wed Oct 8 21:52:14 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d4bb6d433621c74c91f1ebcf62d9b82f7b2e5e41">乗馬中のペットを解放すると、その乗馬のヘルスバーがすぐに消えずに残るバグを修正。</a></p>
</li>
<li>
<p>Tue Oct 7 23:00:50 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8340aab9b482af1c143eb79da6e73254331f116f">変愚蛮怒ではダンジョンの部屋を揃える (dungeon_align) コードはNO_CAVE ダンジョン (城) でのみ有効であったので, NO_CAVE以外ではdungeon_align 処理を行わないように修正.</a></p>
</li>
<li>
<p>Tue Oct 7 20:46:30 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7605711b9cbad3bc98b8ccf721a987890be79026">オプションのページの直値指定がいくつかあることもあり, オプションテー ブルでのページ数指定をbit指定と区別する意味も兼ねて, 記号定数化. オプ ションテーブルの整形と空行の数の統一, 全角括弧の半角化.</a></p>
</li>
<li>
<p>Tue Oct 7 19:33:59 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ee2d5138f6d6b54b07cb61fbdc311f4e13f9bce3">数値252がSPECIAL_KEY_QUITに置き換えられていなかった部分の修正.</a></p>
</li>
<li>
<p>Tue Oct 7 19:26:50 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/734a9795abc70d7cd5b0aa584b4bb0134ffac8ec">オプションメニューでの初期オプションと詐欺オプションの行のスペースの 調整.</a></p>
</li>
<li>
<p>Tue Oct 7 19:21:19 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8977af569d12322e9ee7b1830cc48599286639ce">語句の置き換え/統一. * "Town history" &#8594; "Town Overview", "街の歴史" &#8594; "街の概要".   (lib/edit/t_lite.txt) * "アルベリック", "アルベリッヒ" &#8594; "アルベリヒ".   (lib/edit/r_info.txt, lib/file/rumors_j.txt) * "m_name" &#8594; "note_buf". (src/xtra2.c)</a></p>
</li>
<li>
<p>Sat Oct 4 21:17:20 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/52011f37c520a122f4bc267c17849fd3d982438c">板倉さんのメールアドレス更新。</a></p>
</li>
<li>
<p>Sat Oct 4 19:17:05 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/59c3aaba9deb0475218497329c706b0c830a63e3">typo｡｣Rick､ｵ､隍遙｣</a></p>
</li>
<li>
<p>Sat Oct 4 18:49:44 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/dc0e2ded77c7cdd3d6ff0d40b05b61efed3ef17c">NumLockがOnだとマクロトリガーにいちいち無意味に mod2- が入っていたが、入らないように修正。</a></p>
</li>
<li>
<p>Sat Oct 4 13:36:45 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/91cb9bf2e7651171101adb4d986538f61587a191">闘技場で敗れた時、保存フロアを消去してペットを失なっていたので修正。</a></p>
</li>
<li>
<p>Thu Oct 2 19:56:38 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1405e9e0f4412a5f2f4d1a56cdc7079f369920a0">頭蓋のドルジの説明で, merelyは "まれに" どころか "のみ" なので, 頭蓋 のドルジが実情以上に安全そうに書かれていた誤訳を修正.</a></p>
</li>
<li>
<p>Thu Oct 2 18:17:29 2003 0000: (nothere) link:https://osdn.net/projects/hengband/scm/git/hengband/commits/c8616c175270b95bcd6193d205029afb13096e7d[現在のBCC+向けMakefile.bccの警告設定で残っていた警告のうち, 変数未使 用などで除去可能なものを除去.]</p>
</li>
<li>
<p>Thu Oct 2 17:57:38 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/903ab66a2d8ceaa6392a02315f83ff267ac163a5">"ｸｽｺﾟｻﾑ" &#8594; "ｸｽｺﾟ､ﾎｻﾑ".</a></p>
</li>
<li>
<p>Thu Oct 2 09:06:59 2003 +0000: (macband) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/58f6d1ebd3895f8b972ad7bc0cffadb0158576aa">MPWでのCarbonコンパイル用の変更</a></p>
</li>
<li>
<p>Wed Oct 1 20:57:28 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1fbb06c939545146fc35b9b0c3b03b5e1887acd6">英語版でiskanji()が使われてリンクに失敗しないように修正.</a></p>
</li>
<li>
<p>Wed Oct 1 19:21:57 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e40c05ef047f6d36af591863f4c7737a72d806df">自動拾いエディタで漢字が入力できなくなっていたバグ修正。</a></p>
</li>
<li>
<p>Wed Oct 1 19:10:59 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ad2f5ab226594377dac6f2f3500a125fff6dc73d">「無銘の」キーワードが未鑑定のアイテムにマッチしていたエンバグ修正。</a></p>
</li>
<li>
<p>Wed Oct 1 18:08:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f90a821a0583d0b0699563150c1c4c8bffa94fcd">pref_opt.prfにabbrev_extraとabbrev_allを初期値FALSEとして追加. また, オプションとしての和文テキストに "。" が付いていたので, 他のオプ ションに合わせて "。" を外した.</a></p>
</li>
<li>
<p>Wed Oct 1 17:42:29 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/95aa44e1350ec05eeba6e7ad91dab283d7029301">CFM_CLEAR_ALLフラグを廃止して、真偽を逆にした CFM_SAVE_FLOORS を導入。 保存フロアと無関係なフロア移動でいちいちCFM_CLEAR_ALLフラグを付けなくていいようにした。</a></p>
</li>
<li>
<p>Wed Oct 1 17:26:38 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a9edc1108f0aa8cb28f74721ce26a0980091ba55">*勝利*時のメッセージをダンプに残せるように変更. セーブデータVer.は 1.7.0.1に上がる.</a></p>
</li>
<li>
<p>Wed Oct 1 16:34:29 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e225b6e54df775a21dccf289b43f3a0c5bc97c14">アリーナで負けた後で dead end フロアに入ってしまうバグを修正。</a></p>
</li>
<li>
<p>Wed Oct 1 15:18:20 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1dbe95f868cb6a4f87cf3673319fae2789333f5d">main-mac.cのrev. 1.21 の変更を移植： Bit tileモード用のカーソル表示コードを整理。main-xxx.cの中で地形情報の配列の 内容を直接参照してしまっていた所を、書き変えて参照せずに済むようにした。 既にVanilla用のパッチで適用していたもの。</a></p>
</li>
<li>
<p>Wed Oct 1 14:53:01 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d49979fbe7fb1df14b137781b23f36ea8254522e">Potion of Cure Serious Wounds ､ﾎｱﾑﾊｸﾀ篶ﾀ､ｬ 6d8 ､ﾈ､ﾊ､ﾃ､ﾆ､､､ｿ､ﾎ､ﾇ｡｢4d8 ､ﾋｽ､ﾀｵ｡｣</a></p>
</li>
<li>
<p>Tue Sep 30 17:06:25 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bfdf752362cf58f7c999c4ccb8a882e98596bc66">"｡｣" ､ｬﾂｭ､熙ﾊ､､ﾉｬ､ﾎﾄﾉｲﾃ.</a></p>
</li>
<li>
<p>Tue Sep 30 02:40:18 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b497ae0fd098459965554a17143c4a689e516694">テンキーの'5&#8217;がnumlockのオン時とオフ時で違うマクロトリガコードとして認識されてしまうのを修正。</a></p>
</li>
<li>
<p>Sun Sep 28 18:57:00 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e768dc3a4fc017e2a44b60455cfbd9b7696e963b">モンスターの攻撃手法修正.</a></p>
</li>
<li>
<p>Sun Sep 28 14:51:51 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e7748f28fd146aceef4f695ae57e179555a00aa9">新馬系モンスターの攻撃力up, 発光カヴーの回復確率down.</a></p>
</li>
<li>
<p>Sat Sep 27 20:53:31 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0bd29f19593eeb7a36e9d86e839650ec7ea6bbc2">･ｪ｡ｼ･ｯﾗｸｵﾝﾂ筅ﾎﾀ篶ﾀﾊｸ､ﾉｲﾃ.</a></p>
</li>
<li>
<p>Sat Sep 27 18:38:16 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ec8163b9c9aa72c5a96e5dcb2fc7c7f8a19b54d4">サブウィンドウからのキー入力に対するマクロトリガの処理がおかしかったのを修正。 キー入力処理を外部関数化するなど、ソースを少し整形。</a></p>
</li>
<li>
<p>Sat Sep 27 17:06:53 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ee881a41d9678cfa7d866f34b494609c65b22569">非タイルモードで'='といったミミック系モンスターは幻覚時にアルファベッ トにしかならず</a></p>
</li>
<li>
<p>Sat Sep 27 16:27:52 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f7be9f483d89793534b404498cb04146d2d0faa5">deleteキーのマクロを'\x7f'(Delete)に修正。</a></p>
</li>
<li>
<p>Sat Sep 27 16:13:33 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7bdab1918c2a82e1c2e9f0da2ba2ef64ec0712f6">新しいnumpadのマクロトリガコードに対応した移動のマクロを定義。</a></p>
</li>
<li>
<p>Sat Sep 27 15:35:05 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3687c1680b916bad331a30d532c92ad51fe00f83">numlockオンでもオフでもnumpad上の同じキーなら同じキーコードとして扱うように変更。 numpad上のnumlock以外のすべてのキーに対応(したはず)。</a></p>
</li>
<li>
<p>Sat Sep 27 14:52:26 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3f6ef077eadf2b699e9c1d0e29ffd7f2aa0a8538">リビジョン1.27の修正：switch文でwParamを参照するように修正。'/'以外のキーにも対応。 ASCIIコードを伴うマクロトリガーを押したときに、マクロコードとASCIIコードの両方を入力してたので、ASCIIコードを入力しないよう修正。</a></p>
</li>
<li>
<p>Sat Sep 27 13:36:36 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7ecc637ea9c277b970d6da491d50d7cbd2494b4d">lParam､ﾎ24bit､ﾏ｡｢Enter､ﾈ/､ﾀ､ｱﾆﾃﾊﾌｰｷ､､､ﾇ､｢､ﾃ､ｿ､ﾎ､ﾇswitchﾊｸ､ﾇﾊｬｴ｣</a></p>
</li>
<li>
<p>Sat Sep 27 12:25:13 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ea2100d06f1053b1f03a570e0b6adea7f39102c9">キーパッドのDel等を、本物のDelete等と区別できるようにした。</a></p>
</li>
<li>
<p>Sat Sep 27 11:18:55 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7c1a8d07017303b6d1fbdace32ed77fe3d826c82">生い立ち設定ファイル中で初期オプションを変更でき, 微妙なスコア操作 (オートローラーを使った後でオートローラーを切ってスコアを上げるなど) が使えていたので, 生い立ち設定ファイル中では初期オプションを変更でき ないように変更.</a></p>
</li>
<li>
<p>Sat Sep 27 10:42:05 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4b9df8c9e8a2b49e641ffff12794892d4d3e9098">"you are wielding %s with both hands."</a></p>
</li>
<li>
<p>Sat Sep 27 09:36:44 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7fcb3df3f64f2ac3eb493e6f0ba5ae36c84fdf32">自動破壊の自動登録で、簡易鑑定されたアイテムを考慮していなかったので、 考慮するように修正。 その過程で「無銘の」キーワードを{並}{上質}にもマッチするようにした。 また、tvalが武器かどうか確かめるのにTV_BOW等を直接使っているのが わかりにく過ぎるので、TV_WEAPON_BEGIN 等のマクロを定義してそれを使うように置換した。</a></p>
</li>
<li>
<p>Fri Sep 26 17:30:22 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8485118274f9b637ee15717a9b55cc8a270a1059">ｾ霽ﾏｴﾘﾏ｢､ﾎｽ､ﾀｵ.(ｴﾞ･筵ｹ･ｿ｡ｼﾄﾉｲﾃ)</a></p>
</li>
<li>
<p>Thu Sep 25 03:16:46 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/16c3e104021dc064237cfc9d3727197bd3cbde35">生い立ち設定ファイル読み込みのキー移転に対応.</a></p>
</li>
<li>
<p>Thu Sep 25 03:04:45 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/198428b567dbae1c15e6e8fb53ffaa26c7463a1d">生い立ち設定ファイルの読み込みの際に, 文法エラーで失敗した場合にも ファイルが見つからないメッセージが出ないように変更.</a></p>
</li>
<li>
<p>Thu Sep 25 00:56:18 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5c38630c281314307dd9ffe4c22818e2fcd5fc68">★フランテングは巨人に9倍ダメージだったものを5倍ダメージにするように 正式に仕様変更していたという連絡を受けたため, 巨人9倍コードを削除.</a></p>
</li>
<li>
<p>Thu Sep 25 00:18:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/dc1ef9d458232c6709f4b7768011c92a35db7748">オプション2つ追加。 abbrev_extra, "アイテムに追加耐性/能力の略称を刻む。" abbrev_all,   "アイテムに全ての耐性/能力の略称を刻む。" {%}を刻むとオプションに関わらず刻んだ方を優先。</a></p>
</li>
<li>
<p>Wed Sep 24 22:42:16 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/63081e8a38a836e212eea594520a24a49d7db51f">モンスターの思い出('/')コマンドで'^R&#8217;を選ぶと乗馬可能なモンスターの思い出を閲覧できるように変更。 ただし英語のプロンプトは、長くなりすぎるためまだ変更していない。</a></p>
</li>
<li>
<p>Wed Sep 24 22:12:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c4f040f37346f2063c37ab15e669073b0984b802">自動破壊を簡単に設定する機能を破壊コマンド(k/^D)に追加した。 「壊しますか？ [y/n/Auto]」で、'a&#8217;を押すとそのキャラクターが 死ぬまでの期間だけ有効な自動破壊設定をpicktype.prfに書き加える。</a></p>
</li>
<li>
<p>Wed Sep 24 19:29:38 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8ba1e1344e0bd1a8170109700b9aefdc2eae4b84">generate_rooms()の中で生成を試みる部屋数が多過ぎるので標準の面積で40部 屋固定にした。実際に作られる部屋数は最大でも35程度にしかならない。 多過ぎるとnormal roomが配置しきれずに切り捨てられるので、 その分 vault が異常に出やすくなってしまう。</a></p>
</li>
<li>
<p>Wed Sep 24 18:30:20 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a1c4c3d074d41d97db999ff6fcec9eb66abe9034">inkey_macro_trigger_stringを活用して、生い立ちエディタでカーソルキーで移動できるままで、2468を数値も入力できるようにした。</a></p>
</li>
<li>
<p>Wed Sep 24 14:55:41 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/670b8236b6e5b1756e28d1e9505cf3288611475b">知識コマンド内で「乗馬可能なモンスター」をリスト表示。</a></p>
</li>
<li>
<p>Tue Sep 23 19:44:49 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/39c28fff9ab96e62728a8c17eea690b76765577f">★フランテングのSLAY_GIANTをKILL_GIANTに移転した影響で, 巨人に9倍ダイ スのダメージを与えるコードが無効になっていたバグを修正.</a></p>
</li>
<li>
<p>Mon Sep 22 16:32:25 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/56c08da2928accc34b07b653658bd1b150d24397">火炎ブレス持ちにとっての火炎2重耐性の魔力消去条件にエンバグがあり, 元 種族がバルログの場合に変身した状態で火炎2重耐性があれば消去対象になっ ていたバグの修正.</a></p>
</li>
<li>
<p>Sat Sep 20 19:22:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/7a80f5c5de2f513c8755ab978ec6cfb7c207d5ab">エディタ終了時にカーソル位置を保存する。</a></p>
</li>
<li>
<p>Sat Sep 20 19:21:41 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/84516d8419a32ae2aefbbaefbc4cfa27570b92ce">無駄にポインタ演算をしていたのを削除。*s; → s;</a></p>
</li>
<li>
<p>Sat Sep 20 19:03:53 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9859b8d15c1bbb30863dc7da646966b2db3775aa">editor.txt､ﾈjeditor.txtﾄﾉｲﾃ｡｣</a></p>
</li>
<li>
<p>Sat Sep 20 18:44:22 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f50e917cc1a7013460ed6fb1530024dadbb05916">メニューでキーワードを操作した時に、tb&#8594;changedフラグを立て忘れた。</a></p>
</li>
<li>
<p>Sat Sep 20 18:42:46 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2e71f91f98429c82003104e0dc384826bb5adbc2">「おまえは既に死んでいる。」追加。</a></p>
</li>
<li>
<p>Sat Sep 20 15:01:24 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4beb0f8800455f01816bd8f08da9788c4d593ac8"><sup>Qをセーブ無しで終了(変更があると[y/n]確認が出る)にして、新しく</sup>Wをセーブして終了にした。 メニューの配置が変ったので後でヘルプを更新しないといけない。</a></p>
</li>
<li>
<p>Sat Sep 20 14:11:00 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e00e2cd8936dc60c8b44e4128a2cda39797fd09f">自動拾いエディタで、条件分岐「?:」によって無効にされている行は暗い色で表示し、画面下の説明文にも無効である事を表示するようにした。</a></p>
</li>
<li>
<p>Sat Sep 20 11:11:07 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ddd3c026cbfba9f0166752fed6f351675788405b">floors.cでfeat_uses_special()無しだと実害(lite_townでダンジョンに入れ ない事等)を起こすアルゴリズムバグがあったので色々使い方を修正。 CFM_FIRST_FLOORフラグを導入し、地上から入る時にこのフラグと CFM_CLEAR_ALLを同時に立てて識別する事にした。</a></p>
</li>
<li>
<p>Sat Sep 20 10:05:02 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2605e02b61252260af7739165ab4de729e305fad">ｹｹｿｷ</a></p>
</li>
<li>
<p>Fri Sep 19 22:16:25 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/81f530c3ca3730824fd69050fd4146f0de09a5bd">fixed a typo.</a></p>
</li>
<li>
<p>Fri Sep 19 14:30:07 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ecc0eab324a81963f3d1afd5e814d1dabd6580df">匠魔法 "武器属性付与" の詠唱にはどちらかの手に武器が必要とした. また, 武器を外すと効果が切れるようにした.</a></p>
</li>
<li>
<p>Thu Sep 18 20:22:33 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f411e8bb1c0b26137e3ecd15eb9e47beaf83d357">･ﾆ･ｭ･ｹ･ﾈﾁｪﾂﾏｰﾏ､ﾎｿｶﾉ､ﾊﾑｹｹ｡｣</a></p>
</li>
<li>
<p>Thu Sep 18 17:44:35 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/aba5644e885f4d4356913a65c781dcff043d51a6">ｶﾔ､ｬﾁｴ､ﾆ､ﾎ･｢･､･ﾆ･爨ﾋ･ﾒ･ﾃ･ﾈ､ｷ､ﾆ､､､ｿﾂ逾ﾐ･ｰ｡｣</a></p>
</li>
<li>
<p>Thu Sep 18 17:05:03 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d5a824cb1b7aef20260e269b85a27ca6ca07539d">既に使用していない MD_ASSUME_OUTSIDE フラグ関連の処理を削除。</a></p>
</li>
<li>
<p>Thu Sep 18 16:44:26 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/266e89e03bc36677f659ce31e02d0b2841876a4b">新自動拾いエディタにはメニューにヘルプがあるので、デフォルト設定の中のコマンド説明は削除。</a></p>
</li>
<li>
<p>Thu Sep 18 16:42:09 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/122dd73abfaca3f32c07a5589d4f0c47886e066b">新自動拾いエディタに対応。英語版 editor.txt はまだ説明文章が不足だが、そのうち書く。</a></p>
</li>
<li>
<p>Thu Sep 18 16:40:33 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/f4c3a09fc09eb01616e66aa7871d9b97d02b235d">修正2つ。最下行をカットするとクラッシュ。行末より右にカーソルが(表示上で)位置する時にテキスト選択を始めると表示がバグる。</a></p>
</li>
<li>
<p>Thu Sep 18 15:57:50 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a8032cc1758264e9a59e4960e40b2e3b9fac07cb">色々修正。カットとコピーはテキストを選択しないで使うとカーソルのある1行だけを対象にする。</a></p>
</li>
<li>
<p>Thu Sep 18 15:30:39 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/fe9c3eae26987b0a562d29204c75e3d8241b99f4">koka氏のパッチを取り込み, Windowsでsound.cfgの設定が有効にならなかっ たバグを修正.</a></p>
</li>
<li>
<p>Thu Sep 18 14:50:53 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/42945f689fd1358297ad0a5c0a2e003072e52221">地上やクエストで "地上" の表示が灰色になっていたバグを修正. ついでに, if文をswitch文で整理.</a></p>
</li>
<li>
<p>Thu Sep 18 13:10:45 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c778ea2f42429ce0b076cc2aff47397f95f6082a">1.101の変更のうち, "一撃必殺時のダメージが現HP+1より元々大きかった場 合はそのままのダメージを使う" 変更を破棄.</a></p>
</li>
<li>
<p>Thu Sep 18 12:55:13 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/84d604e275825ff35c108f195d34587bdd8507c6">壁を掘れるモンスターに乗馬した場合にドアを掘れずに埋まっていたバグを 修正. また, 魔王変化等でプレイヤーが壁を掘れる場合に開いたドアも壊し ていたバグを修正.</a></p>
</li>
<li>
<p>Thu Sep 18 12:48:58 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e388617cf3b21fbd39736e47c7c75488b459544d">マウスでコピーする時、行の最後に余計なスペース文字の列があったら削除するようにした。</a></p>
</li>
<li>
<p>Thu Sep 18 12:34:04 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b6d691f2a7554ea7d3de1a25b301d6ef7fe3d6c4">ゲーム開始時に、change_floor()を呼ぶ前の prepare_change_floor_mode() が無かった為、ダンジョン内で階段を作る処理が行なわれてしまっていたバグを修正。</a></p>
</li>
<li>
<p>Thu Sep 18 11:35:01 2003 +0000: (iks) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4c0cbfcc9fe72f738f13337ae3a27dac3426aadd">階の雰囲気による階数表示の色分けをやや詳細化した。 色を指定する変数の型がintになっていたので、byteに修正。</a></p>
</li>
<li>
<p>Thu Sep 18 08:52:55 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a0d27e706fd2871b74375ed5a3ce6ae000fea61c">打撃に関する細かい修正. * 形式上, 死の大鎌での自爆やマーシャルアーツのダイスにもプレイヤー自   身のダイスボーナスを適用するようにした. * 毒針や剣術 "急所突き", 忍者の一撃必殺ではダメージが現 HP + 1より元   々大きかった場合はそのままのダメージを使うようにした. * 英語版での★斬鉄剣でのメッセージについて, "Sign" &#8594; "Sigh". * 一部メッセージで#ifdefの使い方を変えて行を削った. * 少しだけコード整理. * 字下げの修正.</a></p>
</li>
<li>
<p>Wed Sep 17 19:52:35 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/62e435984aba4a7a9405d803c6fe5e1dd7e3d5d5">英語版でコンパイル(正確にはリンク)通ってなかったのを修正.</a></p>
</li>
<li>
<p>Wed Sep 17 09:32:52 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e6d6c104c4562c09d1b136e43032131c239238ba">現在はありえないが, 地上に普通の下り階段や坑道があった場合は鉄獄の入り口 として扱うように変更.</a></p>
</li>
<li>
<p>Wed Sep 17 08:06:13 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a5b35822f4fe04bd88528fe08ae546e46e4eb9b4">vanilla_townでスタート地点の階段が荒野への階段になったり, lite_townで 鉄獄への階段を降りられなくなり, 事実上ゲームが開始できないバグを修正. ダンジョンの入り口で使っているc_ptr&#8594;specialを保存フロアIDとみなして 処理を行っていたことで起きていたので, c_ptr&#8594;specialを特別な意味で使 う地形を保存フロアの処理に使わないように修正.</a></p>
</li>
<li>
<p>Tue Sep 16 18:36:59 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b325a8f15140b02af3efeee93ea5568142ddf15b">自動拾いエディタ、未実装部分を直した。オプション画面で「P」を押しても自動拾いエディタに入れるようにした。後はヘルプ文章を書けば完了かと。</a></p>
</li>
<li>
<p>Tue Sep 16 15:54:37 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c63e4dac090779a7c84ae91dbf99cde600feb86e">階数の表示色を雰囲気によって変える仕様をSAngから移植する楠瀬さんのパッチ。</a></p>
</li>
<li>
<p>Tue Sep 16 15:18:40 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2a9b7e14fe02ade90d60dfeb7db82cad9fa21ade">自動拾いエディタを大幅に改良。viタイプだったのを完全にやめて、ESCキーでメニューが出るVZ editorタイプにした。全てのキーワードがメニューに出るので、説明を読まなくてもある程度使えるはず。</a></p>
</li>
<li>
<p>Tue Sep 16 15:16:40 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/dc0b6f3887ac59530c30edb0f63525ec5ecfa84b">マウスによるコピー&amp;ペーストで漢字が使えなかったので、使えるようにした。 漢字はCOMPOUND_TEXTという形式にする必要があった。</a></p>
</li>
<li>
<p>Tue Sep 16 14:59:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a3ea8612102c9b37678f49867011bf9ea3cbe222">vanilla_town/lite_townでは "辺境の地" ではなく "街" から始まるので, playrecordに "街に降り立った" と記録されるように修正.</a></p>
</li>
<li>
<p>Tue Sep 16 12:39:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b79b6bb679b9d2128f9785322b7a188f4044ec7c">cheat_room時に, ダンジョンに生成された部屋の数を表示するように変更.</a></p>
</li>
<li>
<p>Tue Sep 16 11:44:15 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/167e25b4e619ef76df846222898fea89b6c04877">vanilla_town/lite_townでの街の外壁や世界の果てにぶつかった場合に何の メッセージも出なかったので, メッセージが出るようにした. また, フロア 境界の山にぶつかった場合に "壁" と書かず "山" と書くようにした.</a></p>
</li>
<li>
<p>Tue Sep 16 10:59:50 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/b6e42f0765f057b8d93ce011aea619ca9540473a">乗馬中のプレイヤーがドアを開けたりするとプレイヤーのいるグリッドの m_idxが0になって, モンスターがいないことになるバグを修正. また, 乗馬 のいるグリッドのm_idx処理を少し変更. p_ptr&#8594;ridingを直接使える場合は 使うようにした.</a></p>
</li>
<li>
<p>Tue Sep 16 08:23:55 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e52b5d7dba15138cccd4020c2d251cfbbdaf9489">room_build()で呼ばれているbuild_type*()による各種部屋生成が失敗しても room_build()は無条件でTRUEを返し生成成功であるかのように扱っていたの で, build_type*()の成功/失敗を上位のroom_build()が返すように変更.</a></p>
</li>
<li>
<p>Tue Sep 16 07:44:55 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/723f2f1b65664758fa653a38bdaed56e26e03f9d">lesser vaultやgreater vaultの生成失敗時のreturn FALSEする位置を変更. また, cheat_room時にはlesser vaultかgreater vaultかを区別して表示する ようにした.</a></p>
</li>
<li>
<p>Tue Sep 16 07:07:23 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/711b1d6a37c1f40e3aad10d5773483dee4961eb4">例えば, トラップpitのタイプとしてシンボル(善)(U)といったものが指定さ れた場合, 善良または中立の非ユニークの&#8217;U&#8217;は存在しないため, モンスター のいないトラップpitが生成されていた. この現象は普通のpit/nestでも起き ていた. そこで, モンスターの種別決定を部屋作成の前に持ってくることに より, 空のpit/nestが生成されないように修正. また, トラップpitが鉄獄で しか生成されない条件のダンジョンIDは記号定数に直した.</a></p>
</li>
<li>
<p>Tue Sep 16 04:05:42 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9577e3d2774fedb6656a7b1e9fd5a8e52b10c9ca">*鑑定*装備リスト表示部分のコードの整形と整理. 表示対象に耐性のアミュ レットを追加.</a></p>
</li>
<li>
<p>Mon Sep 15 13:34:43 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ede54c4414e30a7871bb92a3ac0ed999e612eadf">bigtileモード時にlite_spot()された部分が全体マップウィンドウ, 自分の 周囲ウィンドウに反映されなかったバグを修正.</a></p>
</li>
<li>
<p>Mon Sep 15 12:03:37 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/672cff519e6c18d4c8befc199a93399785d1451f">モンスターの光源の更新に関する変更と修正. * モンスターをテレポートさせる, あるいはモンスターがテレポートすると   モンスター光源が残るバグを修正. * モンスターの座標が変わった際にモンスター光源アップデートが必要な部   分の追加. * モンスター単体が座標移動する, 起きる, あるいは消去される場合に, 光   源持ちでない場合にもモンスター光源のアップデートが行われていた部分   があったので, そういった場合には行わないようにした. * 光源持ちでないモンスターが光源持ちモンスターを押しのけた場合にモン   スター光源のアップデートが行われなかったバグを修正. * 乗馬のIDからm_list[], r_info[]を引いていた部分の一部のポインタ化.</a></p>
</li>
<li>
<p>Mon Sep 15 07:49:44 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a8bb6a70849be767cb1ff37117802559e351d7d5">"隠しドアに決して鍵が掛かっていない" 記述を削除.</a></p>
</li>
<li>
<p>Mon Sep 15 07:46:49 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/56c03f6fd0df0d54265d25e1cf3abef154b1d505">ランダムに長い階段/坑道になる記述が残っていたので削除.</a></p>
</li>
<li>
<p>Mon Sep 15 07:16:01 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4e69604403414dbb54c48de4eb602998da99f9ea">SJIS環境で</a></p>
</li>
<li>
<p>Fri Sep 12 10:32:10 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e7a5eccd5791095a024318b4b8cb449106e60481">死天使『アズリエル』, 告知者『ラファエル』の死亡時の台詞が一般モンス ターと同じになっていたバグを修正.</a></p>
</li>
<li>
<p>Wed Sep 10 19:00:01 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c1db0969c6fc8310338dd7641796d7fa3835997e">- greater vault 等を他の部屋と同じ1部屋として最大部屋数を数えていたので、大きい部屋は部屋数相当数も大きくした。 - また、find_space() がランダムに「数打ちゃ当たる」法で部屋の配置する場所を探していて、信頼性が低かったので、しらみ潰しの方法で書き直した。 - random vault が greater vault と同じ確率だったが、これはおかしいので確率を半分位にした。</a></p>
</li>
<li>
<p>Wed Sep 10 16:22:23 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/237668bc5a1f2f37e8ca34fbcd558c3414772da6">「*未鑑定*の?」は抜けていたんじゃなくて、未実装なのだった。autopick.txtのコマンド説明部分で間違って書いてあっただけだった。ドキュメント再修正。</a></p>
</li>
<li>
<p>Wed Sep 10 16:16:16 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a42aab44c8b92b932f4d18e76c1d10197b72477e">「*未鑑定*の?」の説明が抜けていた。</a></p>
</li>
<li>
<p>Tue Sep 9 20:31:31 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0fb7986323a34f6e47e487165b5fe1d064b0bd46">闘技場で闘った後、保存フロアを復帰する為に一瞬外に出るが、その時1ターン消費してしまっていたので、消費しないように修正。</a></p>
</li>
<li>
<p>Tue Sep 9 16:28:43 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d8622dffd8b85b18d01a0cd720dc146a5f5f1811">漢字コード判別の使い方を間違っていたので訂正。さらに漢字コード判別処理自体も厳密化した。</a></p>
</li>
<li>
<p>Mon Sep 8 23:10:20 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/46c0fa45c879f4c429b84620d7a94f985c9e960e">ダンプに関する変更. * 各種オプションのON/OFF表示の桁を揃えた. また, 英語版では各オプ   ションの行の単語は全て大文字で始まるように統一. * 日本語版では "アリーナ: ON" となっている場所が英語版では "Arena   Levels: ENABLED" となっているので, ENABLEDで統一した. * 闘技場情報の前には改行を入れた. また, vanilla_townもしくはlite_town   では闘技場情報は非表示にした.</a></p>
</li>
<li>
<p>Mon Sep 8 22:39:40 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/38c80dfb384a57c0525ff83577b64122d23d4138">オプションで&#8217;D', 'H', 'M&#8217;を使うと "コマンド:" 行が2重に表示されるバグ を修正. また, メニュー中での "低魔力色閾値" の表示位置修正.</a></p>
</li>
<li>
<p>Sun Sep 7 19:44:39 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6527b4deef3fe4bfbe63c53910586f20e804e0e5">自動破壊キーワード「得意武器」=「favorite weapons」実装。</a></p>
</li>
<li>
<p>Sun Sep 7 17:54:12 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6ecfcc7261e29182488daa4076f81cab3956c856">セーブファイルに kanji_code をセーブして、それを元に変換するようにした。 古いバージョンのセーブファイルは unknownを意味する kanji_code == 0 になり、 これは以前と同様に自動判別する。</a></p>
</li>
<li>
<p>Sun Sep 7 17:06:24 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e418801af25aac14da11514f54fd7f378d684a40">先の変更取り消し。セーブファイルに情報を埋め込む事にする。</a></p>
</li>
<li>
<p>Sun Sep 7 16:43:21 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cecb0e7d237086ea0be4591603612ddd6c4127d7">文字コードの判定のミスを減らした。メッセージ履歴をロードした段階でEUCで無い事を判定できれば以降はSJISを仮定する。</a></p>
</li>
<li>
<p>Sun Sep 7 15:16:12 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8fcd92254bcc7cd968ff5fb8e55ad1cab09fa3df">「スピードモンスターの魔法棒」の価値を$1に変更。 「回復モンスターの魔法棒」は魔獣使いと騎兵では leave_special で簡易自動破壊を防止。</a></p>
</li>
<li>
<p>Sun Sep 7 14:33:03 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/aa587d8e7d61dc7ab75b8f794bd8fbe3a94ade3c">- floors.c のコード整理。フロア保存をするかどうかの判断をなるべく floors.c の外でするようにした。 - Kangband時代の名残りの無駄な変数 p_ptr&#8594;leftbldg を削除。</a></p>
</li>
<li>
<p>Sat Sep 6 00:08:57 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ce6f69064591df358aa01e28eedcc3ddbbddbf8b">ペット(親)が召喚したペット(子)はプレイヤーの直接のペットでは無くした。 - (親)が消滅すると(子)も消える。 - (子)はモンスターボールに入らない。 - 階の移動時に(子)は付いて来ない。付いてくるようにしたいが実装が難しい。 - 階の移動時に(親)だけ連れて行くと(子)は消える。(親)も残せば(子)も残る。</a></p>
</li>
<li>
<p>Fri Sep 5 23:26:12 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/45a5a054ed7f93e959269008e88586552e22c2ee">調査を使って思い出情報が補完された時、 「あなたのワイバーン(乗馬中)についてさらに詳しくなったような気がする。」 などと表示されてしまっていたので、 「ワイバーンについてさらに詳しくなったような気がする。」 に修正。</a></p>
</li>
<li>
<p>Fri Sep 5 21:58:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/683f826d259928b29759d93d63e5aceeeaae14fb">commit忘れ。</a></p>
</li>
<li>
<p>Fri Sep 5 21:24:30 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/054a3e263549454286dcaabef8536b81795ec5bd">z-config.h内の無意味なオプション用マクロを削除。</a></p>
</li>
<li>
<p>Fri Sep 5 21:23:59 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/626d555a374f91acee75cc1c8fc762c4be760c51">format､ｬｰ网ﾃ､ｿ｡｣%d &#8594; %ld</a></p>
</li>
<li>
<p>Fri Sep 5 20:54:15 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/71958c359977fba1bb1686f9c07b96d015ca6f5d">宿屋に24時間いつでも泊まれるように変更. 朝や昼に泊まった場合は当日の 18:00に起きる.</a></p>
</li>
<li>
<p>Fri Sep 5 20:16:05 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d767d8fcda47212945cffbaa4cfe67caa56cc76a">闘技場でペットを保存するのにparty_mon[]を使うのをやめて、保存フロアにした。</a></p>
</li>
<li>
<p>Fri Sep 5 14:31:50 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/20d201a0be86d8f5496933677bae87bc1d1b445a">Mogami氏より#ifdef JPの使い方を変えないように指示があり, この部分の使 い方を戻した.</a></p>
</li>
<li>
<p>Fri Sep 5 14:12:11 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/d5598af36772a0345ae97f56fb9894ec0d198332">mon_hook_floor()内でmon_hook_dungeon()は不要だったので削除. これによ り, 街が無人になるバグを修正.</a></p>
</li>
<li>
<p>Fri Sep 5 13:19:53 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/eae9dd6c06093af969659b1f6ef0d11427c48bde">do_cmd_wield()の装備メッセージの分岐をswitch文に変更. kamaenaoshi()で のif文の使い方の変更.</a></p>
</li>
<li>
<p>Fri Sep 5 13:03:35 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/530629bdca5cc8d4dbcba61e12e30066ad052d39">empty_hands()の戻り値の意味を記号定数化. 不等号を使っていた部分は論理 演算に置き換えた.</a></p>
</li>
<li>
<p>Fri Sep 5 11:30:18 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a0b31ce21c3696d69399f860a29b0e3df00179da">describe_use()内でINVEN_RARM, INVEN_LARMに対して返す文字列の先頭だけ スペースが残っていたので削除.</a></p>
</li>
<li>
<p>Fri Sep 5 11:23:56 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/28c70ac5af6653b9138246ef04985fd4c9841b69">do_cmd_wield()のtvalによる分岐をswitch文で書き直して整理. また, 二刀 流時に利き腕の武器が呪われている状況で盾を利き腕に装備しようとしても その呪われた武器を利き腕の逆に持ち替えないように変更. なお, EASY_RING だった部分の#if 1はわざわざ#if 0にするとは思えないので削除.</a></p>
</li>
<li>
<p>Fri Sep 5 09:15:34 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c2a131df02f7ca7686c87358ce35aabe05df9c10">バージョンの上げ方間違えてたので修正.</a></p>
</li>
<li>
<p>Thu Sep 4 17:12:13 2003 +0000: (henkma) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/5a630b91018cf2caa8d4c31e508c10731b6c1f98">HP警告と同様に, MP警告のオプションを導入. ただし効果はMPの色の変わる閾値(黄色→赤)だけで, ビープや警告メッセージは無し.</a></p>
</li>
<li>
<p>Thu Sep 4 15:35:39 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ae2eaa83ab8ee5d0d259ef43c115f7b54ad5eaca">性格いかさまでアイテムを拾った際にdestroy_identifyが有効の場合は自動 破壊を使えるように変更. 通常の鑑定と同じ動作とした.</a></p>
</li>
<li>
<p>Thu Sep 4 14:30:22 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a1e900155ad6b6f58b72d7d0d6613db181480c59">性格いかさまでアイテムを拾った/装備したとき, 歌 "知識の歌" を使って範 囲鑑定したとき, 店に複数アイテムの一部だけを売却したとき, 魔法アイテ ム充填の前処理として鑑定したとき, そして全鑑定サービスといった状況で はアイテムに自動銘刻みを用いるように変更. これらの状況では自動破壊は 行わない.</a></p>
</li>
<li>
<p>Thu Sep 4 07:12:26 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/8f11886978d6cff60d49b8e009a41d1888ec4807">12:00-18:00の時間帯に宿屋に泊まれていたバグを修正.</a></p>
</li>
<li>
<p>Wed Sep 3 19:15:56 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/17ef031a4c177b79e1d22e8b57781db57c7e4d5e">モンスターのセービングスロー系魔法に関する変更. * モンスター対モンスターでの魔力吸収</a></p>
</li>
<li>
<p>Wed Sep 3 15:57:38 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/50b905bae62405b2bb840179d39e9595e685d665">乗馬中のプレイヤーとモンスターに対する半径0のボールの挙動のバグ修正. PROJECT_MONSTERは全く参照されていなかったので, 新しくPROJECT_AIMEDと いうフラグを導入. このフラグと同時にPROJECT_PLAYERがあれば乗馬中の モンスターには絶対に当たらず, このフラグだけの場合は乗馬中のプレイ ヤーには当たらない. これらを用い, プレイヤーに対する呪い系魔法, モン スター同士の打撃戦 (実装上は至近距離でのボール魔法の撃ち合い) の挙動 を修正. プレイヤーに対する呪い系魔法では乗馬は巻き添えにならず, 乗馬 に対する打撃ではプレイヤーが巻き添えにならないように修正. この過程で, 以下の修正を含む. * 乗馬中のプレイヤーが呪い系攻撃を受けるとその直後にプレイヤー自身が   乗馬を呪ったメッセージが出ていたバグを修正. * 乗馬中のモンスターが劣化属性打撃を受けるとプレイヤーが劣化ボールの   巻き添えになり, プレイヤーの装備まで劣化していたバグを修正. * 座標に関する論理演算のミスと思われる部分の修正. "||" &#8594; "&amp;&amp;". * Typo fix.</a></p>
</li>
<li>
<p>Wed Sep 3 05:12:04 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/175835ce53843e7c7a16b9a4c48924ffd758d459">モンスタースポイラーの補助資料として, スポイラーファイル生成にモンス ターの進化系統データの出力を追加.</a></p>
</li>
<li>
<p>Tue Sep 2 19:16:17 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/366372c215d24e5b4e8b030b84003a15128b1eb5">"･｢･ﾐ｡ｼ､ﾎｲｦﾂｲ" &#8594; "･｢･ﾐ･鬣､･ﾈ".</a></p>
</li>
<li>
<p>Tue Sep 2 19:13:22 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/3f2693c4b8e6ee0d9c826ab378fbfe1fd58538e0">帰還に関する変更. * トランプの塔での階層指定テレポート時のダンジョン選択メニュー表示部   分を帰還とフロア・リセットで用いられるchoose_dungeon()に統合. この   都合で, 階層指定テレポート時の表示レイアウトが少しだけ変わった. * vanilla_town, lite_town, ironman_downward時は入れるダンジョンは鉄獄   だけであるため, 複数ダンジョンが選べるような操作ではメニューを出さ   ずに自動的に鉄獄だけが選ばれるように変更. * 入ったダンジョンが1つもない場合はメニューの代わりにエラーメッセージ   を出すように変更. エラーメッセージはどのキーを押しても消える.</a></p>
</li>
<li>
<p>Tue Sep 2 14:41:55 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0d9e818e2d8b9eb01ed5a735a8472fce190a8af2">改名 startup option &#8594; birth option</a></p>
</li>
<li>
<p>Tue Sep 2 14:18:14 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/a24b4d2e311b1a91ef3dcfd3513dc1ec75ec3aac">初期オプションを参照専用で見ている場合は変更キーの説明を出さないよう にし, 'y' 'n' キーでは反応しないように変更. また, "Startup" &#8594; "Birth" と変更.</a></p>
</li>
<li>
<p>Tue Sep 2 13:59:53 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/521fc126a007d6a86b5571d9a7598c13b62b6a98">=</a></p>
</li>
<li>
<p>Tue Sep 2 13:22:00 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/cfc268668c0c4ff43af5dc9a2f44b3d2d269febc">Typo fix.</a></p>
</li>
<li>
<p>Tue Sep 2 12:48:30 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/85f5569a0ef66a917aa4cdb8c72bcf50cb45acbf">モンスターを消滅させる変異が街で発動し店主が入れ替わるメッセージが出 たら, 店主が必ず入れ替わるように変更.</a></p>
</li>
<li>
<p>Tue Sep 2 12:43:03 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ef70688b6a8e4f20a8f7cbf58c1d44490e316c43">vanilla_townでは賞金首を換金できないため, 賞金首の概念が存在しないか のように扱い, 賞金首一覧を表示せず, 自動拾いのキーワードにもヒットし ないように変更.</a></p>
</li>
<li>
<p>Tue Sep 2 11:55:27 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bde533a76e74b88f6e8977c4fc826324a9a1110f">vanilla_town, lite_townでは店主が変わらないことによる不利益が大きいの で, これらのモードに限りターン経過でごく稀に店主が交替するように変更. Vanillaにならい, ダンジョンにいる間にしか店主交替は起きない. なお, 以 下の修正を含む. * 店主交替時に, 店頭に並んだ固定アーティファクトが{売出中}になるバグ   を修正.</a></p>
</li>
<li>
<p>Mon Sep 1 11:57:21 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/bbd20104f5b67ee704fd53131bfeb4787f826967">隠密行動能力が0の場合は"悪い"と書かずに"最低"と書くように変更.</a></p>
</li>
<li>
<p>Sun Aug 31 21:04:51 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0c9ceeab1bf4e742e603a4baabeca46a719fdc19">ｹｹｿｷ｡｣</a></p>
</li>
<li>
<p>Sun Aug 31 21:04:19 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/e578486e8ce4b500e7a409ac881762479903af22">hook関数 monster_* を mon_hook_* と改名。これらはstatic関数にした。 mon_hook_floorを追加。ペット召喚で床の上に水棲モンスターを 召喚しようとして失敗する事がないようにした。</a></p>
</li>
<li>
<p>Sun Aug 31 10:57:13 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9970235e6624137d8ba4305e2b64153c5b6e3356">増殖するモンスターがクローンだった場合は新しいモンスターもクローンと なるように修正.</a></p>
</li>
<li>
<p>Sun Aug 31 08:09:49 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0a9324f35106791a4ff715b81d88d5f10af8ecb9">ロレントの手榴弾ばら撒きで救援召喚がラーニングできるのはおかしい等の 理由により, 手榴弾ばら撒きを救援召喚から特殊な行動に移転. 反魔法の洞 窟でも使用できるようになる. ペット召喚の巻物等でペットになった場合の 手榴弾ばら撒きの使用条件は "攻撃魔法許可" かつ "召喚魔法許可" である こととした.</a></p>
</li>
<li>
<p>Sun Aug 31 08:06:15 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ed09e682baaae8193906b596bb8b39375096d20c">ロレントの手榴弾ばら撒きで救援召喚がラーニングできるのはおかしい等の 理由により, 手榴弾ばら撒きを救援召喚から特殊な行動に移転. 反魔法の洞 窟でも使用できるようになる. ペット召喚の巻物等でペットになった場合の 手榴弾ばら撒きの使用条件は "攻撃魔法許可" かつ "召喚魔法許可" である こととした. なお, 以下の変更を含む. * 救援召喚のID分岐をswitch文で整理. * モンスター同士の戦いでの『混沌のサーペント』, サーペント・ゾンビの   ダンジョンの主召喚時に, ミドガルドの大蛇『ヨルムンガンド』生存時は   対プレイヤーの時同様に1/6で水が吹き出るように変更. * 王蟲が魔法として特殊な行動を選ぶコードが残っていたので削除. * コメントで, "RF6_SUMMON_KIN" &#8594; "RF6_S_KIN".</a></p>
</li>
<li>
<p>Sat Aug 30 20:31:13 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/0e6182789a1b3bb1c9ac154bbdcee18cb0c2dc1f">忍者啓蒙時に元々明るい場所がある場合は, 通常の啓蒙と同じ条件である view_perma_grids &amp;&amp; !view_torch_gridsならば記憶されるようにした.</a></p>
</li>
<li>
<p>Sat Aug 30 20:16:05 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/c5d249287249f564aba3e5b02675fb2fe8dc8932">武器を持たない忍者が不意打ちを使えていたバグを修正. また, 忍者や盗賊 が盾しか持たない場合でも不意打ち判定が動いていたバグを修正.</a></p>
</li>
<li>
<p>Sat Aug 30 19:47:02 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/227bbc5b773769a6a6abcc1151ba9a5145ac78ff">* バーノール</a></p>
</li>
<li>
<p>Sat Aug 30 18:34:32 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1a09b23fe3228cfe0e2cbec562525fa3795f4fa1">インターネット・エクスプローダーと超人ロックのクローンの召喚でIDが直 接使われていたので, 記号定数化.</a></p>
</li>
<li>
<p>Sat Aug 30 18:21:35 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ac87d23f902f105185ac2efb672f7bdc06d8dfa8">Typo fix. * "エッセンス一覧" の説明の文末記号が抜けていたので付けた. * 英文で '.' の後に更に文が続く場合に, 文頭が大文字になっていなかった   部分を修正.</a></p>
</li>
<li>
<p>Sat Aug 30 17:59:07 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1c68fc482bb50472cb8715ad6206949ca18a3149">Typo fix. * アーデンの森の主『ジュリアン』について, "同乗" &#8594; "同情". * スライムモルドの英文テキストで '.' の付け忘れ.</a></p>
</li>
<li>
<p>Sat Aug 30 17:52:36 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1330b82d8fb50744b8005369cb9bceeb21d7a72e">忍者の視界の床を記憶する動作をオプション依存にした変更との兼ね合いを 考え, 啓蒙の動作について変更. * 忍者啓蒙では床と砂地と草地は記憶されないように変更. * 暗闇の洞窟で通常啓蒙を使った場合は砂地と草地が記憶されていたが, 床   と完全に同じ扱いとして記憶しないようにした.</a></p>
</li>
<li>
<p>Fri Aug 29 16:49:05 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/101916b64b7385637bf95333b1ebbf19efce7c2b">ミスリル・ゴーレムを倒した時にミスリルだけ落とすように変更.</a></p>
</li>
<li>
<p>Fri Aug 29 16:37:56 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/ce84a02f370c16bbd08605d0e53a3fbbd3ad2941">"ミノタウルス" &#8594; "ミノタウロス".</a></p>
</li>
<li>
<p>Fri Aug 29 16:34:34 2003 +0000: (nothere) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4af8b11bc2a81638632f1a6cc5d3bfd838801cd5">モンスターのフラグの調整. * ピラニア</a></p>
</li>
<li>
<p>Fri Aug 29 14:13:26 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/1a4cf1fbc02d2ff5d78e94aeaa4a8756253e60be">change_numeral も削除。</a></p>
</li>
<li>
<p>Fri Aug 29 13:48:27 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/9602852547ddbf3519609af96aec3c21e2b64857">henkmaさんと相談して同意を得た不要なオプションを削除： show_choices, player_symbols, stack_allow_items, expand_look, find_examine, alert_hitpoint, view_reduce_lite .</a></p>
</li>
<li>
<p>Wed Aug 27 13:54:34 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/873e672498918458a261f3a81b3907127494e7d3">維持コストの説明文修正。</a></p>
</li>
<li>
<p>Wed Aug 27 12:08:50 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/6a6868c34ff616b4121f8f472c88815d1b0d7c11">A Set of Gloves of Dragon  &#8594;  A Set of Dragon Gloves</a></p>
</li>
<li>
<p>Tue Aug 26 22:13:48 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/4b13d7f55a784325dfe4e4ae4b84f4c76c0aa246">フロアの一番下の1ブロック分に部屋が配置されなかったバグ修正。</a></p>
</li>
<li>
<p>Tue Aug 26 21:26:49 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/2502a9e4bba697b40c11f48dcd056d7e82229537">剣術家のブーメランが闘技場で使えなくなっていたバグ修正。 ついでに o_ptr&#8594;tval != 5 と直接数値で書いてあった所を TV_SPIKE に修正。</a></p>
</li>
<li>
<p>Tue Aug 26 15:49:44 2003 +0000: (mogami) <a href="https://osdn.net/projects/hengband/scm/git/hengband/commits/173d1efd3c6eb41a0e5456e12306850c731f61a4">ダンジョンの部屋生成コードを変更。SAngから大幅に変更しつつ移植。 大きい部屋から先に生成するので Greater Vault の生成失敗が少なくなる。 深層のフロアが特殊な部屋ばっかりになる傾向があるので、 各部屋の出現率 room_info_normal を今後調整する必要あり。 今後、ダンジョン毎に異なる room_info を用意する事で特徴を出す事もできる。</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>		</div>

<!--footer-->
		<footer>

			<section>
				各ページへのリンクは御自由にどうぞ。/ Link Free.<br>
				2021 Hengband Dev Team. <a href="mailto:hengband-dev@lists.sourceforge.jp">hengband-dev@lists.sourceforge.jp</a><br>
			</section>

			<section>
				Powered by <a href="https://osdn.net/" class="footer_banner">
				<img src="//osdn.net/sflogo.php?group_id=541" border="0" alt="OSDN">
				</a>
			</section>

		</footer>


	</body>

</html>

